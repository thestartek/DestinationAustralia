{"ast":null,"code":"import ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport React from \"react\";\nimport { Divider } from \"react-native-paper\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Share from \"react-native-web/dist/exports/Share\";\nimport { auth, db } from \"../../Firebase\";\nimport { FontAwesome, AntDesign, Feather } from \"@expo/vector-icons\";\nimport { doc, updateDoc, arrayUnion, arrayRemove } from \"firebase/firestore\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Post4home = function Post4home(_ref) {\n  var post = _ref.post,\n    navigation = _ref.navigation;\n  var user = auth.currentUser;\n  var handleLike = function handleLike(post) {\n    var currentLikeStatus = !post.likes.includes(user.email);\n    updateDoc(doc(db, \"posts\", post.id), {\n      likes: currentLikeStatus ? arrayUnion(user.email) : arrayRemove(user.email)\n    });\n  };\n  return _jsxs(View, {\n    children: [_jsx(PostHeader, {\n      post: post\n    }), post.caption != null ? _jsx(Caption, {\n      post: post\n    }) : null, _jsx(Divider, {\n      width: 1,\n      marginHorizontal: 10\n    }), _jsxs(View, {\n      style: styles.postFooterContainer,\n      children: [_jsx(LikeButton, {\n        post: post,\n        handleLike: handleLike\n      }), _jsx(Divider, {\n        width: 1,\n        orientation: \"vertical\"\n      }), _jsx(CommentButton, {\n        post: post,\n        navigation: navigation\n      })]\n    }), _jsx(Divider, {})]\n  });\n};\nvar PostHeader = function PostHeader(_ref2) {\n  var post = _ref2.post;\n  return _jsxs(View, {\n    style: {\n      flexDirection: \"row\",\n      margin: 10\n    },\n    children: [!post.profile_picture ? _jsx(Image, {\n      source: {\n        uri: \"https://firebasestorage.googleapis.com/v0/b/journeytoaustralia-b21d4.appspot.com/o/icons%2FprofileIcon.png?alt=media&token=e822d7b0-f1a7-4d58-ae70-83e1b3952026\"\n      },\n      style: styles.profileThumbnail\n    }) : _jsx(Image, {\n      source: {\n        uri: post.profile_picture\n      },\n      style: styles.profile\n    }), _jsxs(View, {\n      style: {\n        flexDirection: \"column\"\n      },\n      children: [_jsx(Text, {\n        style: {\n          marginLeft: 10,\n          marginTop: 4,\n          fontWeight: \"bold\",\n          fontSize: 15,\n          color: \"#1267E9\"\n        },\n        children: post.fullname\n      }), _jsx(Text, {\n        style: styles.timstampText,\n        children: post.postedDate\n      })]\n    })]\n  });\n};\nvar Caption = function Caption(_ref3) {\n  var post = _ref3.post;\n  return _jsx(Text, {\n    style: {\n      marginLeft: 10,\n      marginRight: 10,\n      width: 120,\n      height: 60\n    },\n    children: post.caption\n  });\n};\nvar LikeButton = function LikeButton(_ref4) {\n  var post = _ref4.post,\n    handleLike = _ref4.handleLike,\n    focused = _ref4.focused;\n  var onLikedColor = post.likes.includes(auth.currentUser.email) ? \"#1267E9\" : \"#545050\";\n  return _jsx(View, {\n    children: _jsxs(TouchableOpacity, {\n      style: {\n        flexDirection: \"row\"\n      },\n      onPress: function onPress() {\n        handleLike(post);\n      },\n      children: [post.likes.includes(auth.currentUser.email) ? _jsx(AntDesign, {\n        name: \"like1\",\n        size: 25,\n        color: \"#1267E9\"\n      }) : _jsx(AntDesign, {\n        name: \"like2\",\n        size: 25,\n        color: \"#545050\"\n      }), !!post.likes.length && _jsx(Text, {\n        style: [styles.postFooterIconsText, {\n          color: onLikedColor\n        }],\n        children: post.likes.length\n      })]\n    })\n  });\n};\nvar CommentButton = function CommentButton(_ref5) {\n  var post = _ref5.post,\n    postId = _ref5.postId,\n    navigation = _ref5.navigation;\n  return _jsx(View, {\n    children: _jsxs(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.push(\"Comments\");\n      },\n      style: {\n        flexDirection: \"row\"\n      },\n      children: [_jsx(FontAwesome, {\n        name: \"commenting-o\",\n        size: 25,\n        color: \"#545050\"\n      }), !!post.comments.length && _jsx(Text, {\n        style: styles.postFooterIconsText,\n        children: post.comments.length\n      })]\n    })\n  });\n};\nexport default Post4home;\nvar styles = StyleSheet.create({\n  profile: {\n    width: 44,\n    height: 44,\n    borderRadius: 22\n  },\n  profileThumbnail: {\n    width: 44,\n    height: 44,\n    borderRadius: 22,\n    tintColor: \"grey\"\n  },\n  timstampText: {\n    marginLeft: 10,\n    marginTop: 2,\n    fontSize: 12,\n    color: \"grey\"\n  },\n  postFooterContainer: {\n    flexDirection: \"row\",\n    justifyContent: \"space-around\",\n    marginRight: 10,\n    marginVertical: 5\n  },\n  postFooterIconsText: {\n    fontSize: 12,\n    fontWeight: \"bold\",\n    marginTop: 6,\n    marginLeft: 5,\n    color: \"#545050\"\n  }\n});","map":{"version":3,"names":["React","Divider","auth","db","FontAwesome","AntDesign","Feather","doc","updateDoc","arrayUnion","arrayRemove","Post4home","post","navigation","user","currentUser","handleLike","currentLikeStatus","likes","includes","email","id","caption","styles","postFooterContainer","PostHeader","flexDirection","margin","profile_picture","uri","profileThumbnail","profile","marginLeft","marginTop","fontWeight","fontSize","color","fullname","timstampText","postedDate","Caption","marginRight","width","height","LikeButton","focused","onLikedColor","length","postFooterIconsText","CommentButton","postId","push","comments","StyleSheet","create","borderRadius","tintColor","justifyContent","marginVertical"],"sources":["/Users/startek/LocalRepo/journeytoaustralia/components/home/Post4home.js"],"sourcesContent":["import { ScrollView, View, Text, Image, StyleSheet, Alert } from \"react-native\";\nimport React from \"react\";\nimport { Divider } from \"react-native-paper\";\nimport { TouchableOpacity, Share } from \"react-native\";\nimport { auth, db } from \"../../Firebase\";\n\nimport { FontAwesome, AntDesign, Feather } from \"@expo/vector-icons\";\nimport { doc, updateDoc, arrayUnion, arrayRemove } from \"firebase/firestore\";\n//import { color } from \"react-native-reanimated\";\n\nconst Post4home = ({ post, navigation }) => {\n  const user = auth.currentUser;\n  // const thumbnailPic = (\n  //   <Image source={require(\"../../assets/profileIcon.png\")} />\n  // );\n\n  const handleLike = (post) => {\n    const currentLikeStatus = !post.likes.includes(user.email);\n    updateDoc(doc(db, \"posts\", post.id), {\n      likes: currentLikeStatus\n        ? arrayUnion(user.email)\n        : arrayRemove(user.email),\n    });\n  };\n\n  return (\n    <View>\n      <PostHeader post={post} />\n      {post.caption != null ? <Caption post={post} /> : null}\n      <Divider width={1} marginHorizontal={10} />\n      <View style={styles.postFooterContainer}>\n        <LikeButton post={post} handleLike={handleLike} />\n        <Divider width={1} orientation=\"vertical\" />\n        <CommentButton post={post} navigation={navigation} />\n      </View>\n      <Divider />\n    </View>\n  );\n};\n\nconst PostHeader = ({ post }) => (\n  <View style={{ flexDirection: \"row\", margin: 10 }}>\n    {!post.profile_picture ? (\n      <Image\n        source={{\n          uri: \"https://firebasestorage.googleapis.com/v0/b/journeytoaustralia-b21d4.appspot.com/o/icons%2FprofileIcon.png?alt=media&token=e822d7b0-f1a7-4d58-ae70-83e1b3952026\",\n        }}\n        style={styles.profileThumbnail}\n      />\n    ) : (\n      <Image source={{ uri: post.profile_picture }} style={styles.profile} />\n    )}\n    {/* where post.user == user.email*/}\n\n    <View style={{ flexDirection: \"column\" }}>\n      <Text\n        style={{\n          marginLeft: 10,\n          marginTop: 4,\n          fontWeight: \"bold\",\n          fontSize: 15,\n          color: \"#1267E9\",\n        }}\n      >\n        {post.fullname}\n      </Text>\n      <Text style={styles.timstampText}>{post.postedDate}</Text>\n    </View>\n  </View>\n);\n\nconst Caption = ({ post }) => (\n  <Text\n    style={{\n      marginLeft: 10,\n      marginRight: 10,\n      // marginBottom: -20,\n      width: 120,\n      height: 60,\n    }}\n  >\n    {post.caption}\n  </Text>\n);\n\nconst LikeButton = ({ post, handleLike, focused }) => {\n  // onLiked = post.liked ? \"like1\" : \"like2\";\n  const onLikedColor = post.likes.includes(auth.currentUser.email)\n    ? \"#1267E9\"\n    : \"#545050\";\n\n  return (\n    <View>\n      <TouchableOpacity\n        style={{ flexDirection: \"row\" }}\n        onPress={() => {\n          handleLike(post);\n        }}\n      >\n        {post.likes.includes(auth.currentUser.email) ? (\n          <AntDesign name=\"like1\" size={25} color=\"#1267E9\" />\n        ) : (\n          <AntDesign name=\"like2\" size={25} color=\"#545050\" />\n        )}\n        {/* <AntDesign name={onLiked} size={25} color={onLikedColor} /> */}\n        {/* <AntDesign name={onLiked} size={25} style={styles.buttonStyle} /> */}\n\n        {!!post.likes.length && (\n          <Text style={[styles.postFooterIconsText, { color: onLikedColor }]}>\n            {post.likes.length}\n          </Text>\n        )}\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nconst CommentButton = ({ post, postId, navigation }) => {\n  //const [modalVisible, setModalVisible] = useState(false);\n  return (\n    <View>\n      <TouchableOpacity\n        onPress={() => navigation.push(\"Comments\")}\n        style={{ flexDirection: \"row\" }}\n      >\n        <FontAwesome name=\"commenting-o\" size={25} color=\"#545050\" />\n\n        {!!post.comments.length && (\n          <Text style={styles.postFooterIconsText}>\n            {/* View\n            {post.comments.length > 1 ? \" all \" : \" \"} */}\n            {post.comments.length}\n            {/* {post.comments.length > 1 ? \" comments\" : \" comment\"} */}\n          </Text>\n        )}\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nexport default Post4home;\n\nconst styles = StyleSheet.create({\n  profile: {\n    width: 44,\n    height: 44,\n    borderRadius: 22,\n    // tintColor: \"#3a3b3c\"\n  },\n  profileThumbnail: {\n    width: 44,\n    height: 44,\n    borderRadius: 22,\n    tintColor: \"grey\",\n  },\n  timstampText: {\n    marginLeft: 10,\n    marginTop: 2,\n    fontSize: 12,\n    color: \"grey\",\n  },\n\n  postFooterContainer: {\n    // alignItems: \"center\",\n    flexDirection: \"row\",\n    justifyContent: \"space-around\",\n    marginRight: 10,\n    marginVertical: 5,\n  },\n\n  postFooterIconsText: {\n    fontSize: 12,\n    fontWeight: \"bold\",\n    marginTop: 6,\n    marginLeft: 5,\n    color: \"#545050\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}