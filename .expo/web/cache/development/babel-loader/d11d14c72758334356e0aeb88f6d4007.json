{"ast":null,"code":"import React from \"react\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Divider } from \"react-native-paper\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Share from \"react-native-web/dist/exports/Share\";\nimport { auth, db } from \"../Firebase\";\nimport { FontAwesome, AntDesign, Feather } from \"@expo/vector-icons\";\nimport { doc, updateDoc, arrayUnion, arrayRemove, onSnapshot } from \"firebase/firestore\";\nimport { CommentButton, LikeButton, PostHeader } from \"../components/post/Post\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Post4home = function Post4home(_ref) {\n  var post = _ref.post,\n    navigation = _ref.navigation;\n  var user = auth.currentUser;\n  var handleLike = function handleLike(post) {\n    var currentLikeStatus = !post.likes.includes(user.email);\n    updateDoc(doc(db, \"posts\", post.id), {\n      likes: currentLikeStatus ? arrayUnion(user.email) : arrayRemove(user.email)\n    });\n  };\n  return _jsxs(View, {\n    children: [_jsxs(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.push(\"Posts\");\n      },\n      children: [_jsx(PostHeader, {\n        post: post\n      }), _jsx(Caption, {\n        post: post\n      })]\n    }), _jsx(Divider, {\n      bold: true,\n      style: {\n        marginHorizontal: 10,\n        marginTop: 8\n      }\n    }), _jsxs(View, {\n      style: styles.postFooterContainer,\n      children: [_jsx(LikeButton, {\n        post: post,\n        handleLike: handleLike\n      }), _jsx(CommentButton, {\n        post: post,\n        navigation: navigation\n      })]\n    }), _jsx(Divider, {\n      bold: true,\n      style: {\n        marginHorizontal: 10\n      }\n    })]\n  });\n};\nvar Caption = function Caption(_ref2) {\n  var post = _ref2.post;\n  return _jsx(Text, {\n    style: {\n      marginHorizontal: 14,\n      maxWidth: 150,\n      height: 60,\n      lineHeight: 20\n    },\n    children: post.caption\n  });\n};\nexport default Post4home;\nvar styles = StyleSheet.create({\n  postFooterContainer: {\n    flexDirection: \"row\",\n    justifyContent: \"space-around\",\n    marginRight: 10,\n    marginVertical: 5\n  }\n});","map":{"version":3,"names":["React","Divider","auth","db","FontAwesome","AntDesign","Feather","doc","updateDoc","arrayUnion","arrayRemove","onSnapshot","CommentButton","LikeButton","PostHeader","Post4home","post","navigation","user","currentUser","handleLike","currentLikeStatus","likes","includes","email","id","push","marginHorizontal","marginTop","styles","postFooterContainer","Caption","maxWidth","height","lineHeight","caption","StyleSheet","create","flexDirection","justifyContent","marginRight","marginVertical"],"sources":["/Users/startek/LocalRepo/DestinationAustralia/home/Post4home.js"],"sourcesContent":["import React from \"react\";\nimport { ScrollView, View, Text, Image, StyleSheet, Alert } from \"react-native\";\nimport { Divider } from \"react-native-paper\";\nimport { TouchableOpacity, Share } from \"react-native\";\nimport { auth, db } from \"../Firebase\";\nimport { FontAwesome, AntDesign, Feather } from \"@expo/vector-icons\";\nimport {\n  doc,\n  updateDoc,\n  arrayUnion,\n  arrayRemove,\n  onSnapshot,\n} from \"firebase/firestore\";\nimport { CommentButton, LikeButton, PostHeader } from \"../components/post/Post\";\n//import { color } from \"react-native-reanimated\";\n\nconst Post4home = ({ post, navigation }) => {\n  const user = auth.currentUser;\n  // const thumbnailPic = (\n  //   <Image source={require(\"../../assets/profileIcon.png\")} />\n  // );\n\n  const handleLike = (post) => {\n    const currentLikeStatus = !post.likes.includes(user.email);\n    updateDoc(doc(db, \"posts\", post.id), {\n      likes: currentLikeStatus\n        ? arrayUnion(user.email)\n        : arrayRemove(user.email),\n    });\n  };\n\n  return (\n    <View>\n      <TouchableOpacity onPress={() => navigation.push(\"Posts\")}>\n        <PostHeader post={post} />\n        <Caption post={post} /> \n      </TouchableOpacity>\n\n      <Divider bold={true} style={{ marginHorizontal: 10, marginTop: 8 }} />\n      <View style={styles.postFooterContainer}>\n        <LikeButton post={post} handleLike={handleLike} />\n        {/* <Divider /> */}\n        <CommentButton post={post} navigation={navigation} />\n      </View>\n      <Divider bold={true} style={{ marginHorizontal: 10 }} />\n    </View>\n  );\n};\n\n\nconst Caption = ({ post }) => (\n  <Text\n    style={{\n      marginHorizontal: 14,\n      maxWidth: 150,\n      height: 60,\n      lineHeight: 20,\n    }}\n  >\n    {post.caption}\n  </Text>\n);\n\nexport default Post4home;\n\nconst styles = StyleSheet.create({\n  postFooterContainer: {\n    // alignItems: \"center\",\n    flexDirection: \"row\",\n    justifyContent: \"space-around\",\n    marginRight: 10,\n    marginVertical: 5,\n  },\n\n});\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAE1B,SAASC,OAAO,QAAQ,oBAAoB;AAAC;AAAA;AAE7C,SAASC,IAAI,EAAEC,EAAE;AACjB,SAASC,WAAW,EAAEC,SAAS,EAAEC,OAAO,QAAQ,oBAAoB;AACpE,SACEC,GAAG,EACHC,SAAS,EACTC,UAAU,EACVC,WAAW,EACXC,UAAU,QACL,oBAAoB;AAC3B,SAASC,aAAa,EAAEC,UAAU,EAAEC,UAAU;AAAkC;AAAA;AAGhF,IAAMC,SAAS,GAAG,SAAZA,SAAS,OAA6B;EAAA,IAAvBC,IAAI,QAAJA,IAAI;IAAEC,UAAU,QAAVA,UAAU;EACnC,IAAMC,IAAI,GAAGhB,IAAI,CAACiB,WAAW;EAK7B,IAAMC,UAAU,GAAG,SAAbA,UAAU,CAAIJ,IAAI,EAAK;IAC3B,IAAMK,iBAAiB,GAAG,CAACL,IAAI,CAACM,KAAK,CAACC,QAAQ,CAACL,IAAI,CAACM,KAAK,CAAC;IAC1DhB,SAAS,CAACD,GAAG,CAACJ,EAAE,EAAE,OAAO,EAAEa,IAAI,CAACS,EAAE,CAAC,EAAE;MACnCH,KAAK,EAAED,iBAAiB,GACpBZ,UAAU,CAACS,IAAI,CAACM,KAAK,CAAC,GACtBd,WAAW,CAACQ,IAAI,CAACM,KAAK;IAC5B,CAAC,CAAC;EACJ,CAAC;EAED,OACE,MAAC,IAAI;IAAA,WACH,MAAC,gBAAgB;MAAC,OAAO,EAAE;QAAA,OAAMP,UAAU,CAACS,IAAI,CAAC,OAAO,CAAC;MAAA,CAAC;MAAA,WACxD,KAAC,UAAU;QAAC,IAAI,EAAEV;MAAK,EAAG,EAC1B,KAAC,OAAO;QAAC,IAAI,EAAEA;MAAK,EAAG;IAAA,EACN,EAEnB,KAAC,OAAO;MAAC,IAAI,EAAE,IAAK;MAAC,KAAK,EAAE;QAAEW,gBAAgB,EAAE,EAAE;QAAEC,SAAS,EAAE;MAAE;IAAE,EAAG,EACtE,MAAC,IAAI;MAAC,KAAK,EAAEC,MAAM,CAACC,mBAAoB;MAAA,WACtC,KAAC,UAAU;QAAC,IAAI,EAAEd,IAAK;QAAC,UAAU,EAAEI;MAAW,EAAG,EAElD,KAAC,aAAa;QAAC,IAAI,EAAEJ,IAAK;QAAC,UAAU,EAAEC;MAAW,EAAG;IAAA,EAChD,EACP,KAAC,OAAO;MAAC,IAAI,EAAE,IAAK;MAAC,KAAK,EAAE;QAAEU,gBAAgB,EAAE;MAAG;IAAE,EAAG;EAAA,EACnD;AAEX,CAAC;AAGD,IAAMI,OAAO,GAAG,SAAVA,OAAO;EAAA,IAAMf,IAAI,SAAJA,IAAI;EAAA,OACrB,KAAC,IAAI;IACH,KAAK,EAAE;MACLW,gBAAgB,EAAE,EAAE;MACpBK,QAAQ,EAAE,GAAG;MACbC,MAAM,EAAE,EAAE;MACVC,UAAU,EAAE;IACd,CAAE;IAAA,UAEDlB,IAAI,CAACmB;EAAO,EACR;AAAA,CACR;AAED,eAAepB,SAAS;AAExB,IAAMc,MAAM,GAAGO,UAAU,CAACC,MAAM,CAAC;EAC/BP,mBAAmB,EAAE;IAEnBQ,aAAa,EAAE,KAAK;IACpBC,cAAc,EAAE,cAAc;IAC9BC,WAAW,EAAE,EAAE;IACfC,cAAc,EAAE;EAClB;AAEF,CAAC,CAAC"},"metadata":{},"sourceType":"module"}