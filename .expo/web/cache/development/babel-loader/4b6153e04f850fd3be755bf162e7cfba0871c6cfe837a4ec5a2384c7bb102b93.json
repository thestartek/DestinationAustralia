{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { useCallback, useEffect, useReducer } from 'react';\nimport { AdEventType } from \"../AdEventType\";\nimport { RewardedAdEventType } from \"../RewardedAdEventType\";\nvar initialState = {\n  isLoaded: false,\n  isOpened: false,\n  isClicked: false,\n  isClosed: false,\n  error: undefined,\n  reward: undefined,\n  isEarnedReward: false\n};\nexport function useFullScreenAd(ad) {\n  var _useReducer = useReducer(function (prevState, newState) {\n      return _objectSpread(_objectSpread({}, prevState), newState);\n    }, initialState),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    state = _useReducer2[0],\n    setState = _useReducer2[1];\n  var isShowing = state.isOpened && !state.isClosed;\n  var load = useCallback(function () {\n    if (ad) {\n      setState(initialState);\n      ad.load();\n    }\n  }, [ad]);\n  var show = useCallback(function (showOptions) {\n    if (ad) {\n      ad.show(showOptions);\n    }\n  }, [ad]);\n  useEffect(function () {\n    setState(initialState);\n    if (!ad) {\n      return;\n    }\n    var unsubscribe = ad.addAdEventsListener(function (_ref) {\n      var type = _ref.type,\n        payload = _ref.payload;\n      switch (type) {\n        case AdEventType.LOADED:\n          setState({\n            isLoaded: true\n          });\n          break;\n        case AdEventType.OPENED:\n          setState({\n            isOpened: true\n          });\n          break;\n        case AdEventType.CLOSED:\n          setState({\n            isClosed: true,\n            isLoaded: false\n          });\n          break;\n        case AdEventType.CLICKED:\n          setState({\n            isClicked: true\n          });\n          break;\n        case AdEventType.ERROR:\n          setState({\n            error: payload\n          });\n          break;\n        case RewardedAdEventType.LOADED:\n          setState({\n            isLoaded: true,\n            reward: payload\n          });\n          break;\n        case RewardedAdEventType.EARNED_REWARD:\n          setState({\n            isEarnedReward: true,\n            reward: payload\n          });\n          break;\n      }\n    });\n    return function () {\n      unsubscribe();\n    };\n  }, [ad]);\n  return _objectSpread(_objectSpread({}, state), {}, {\n    isShowing: isShowing,\n    load: load,\n    show: show\n  });\n}","map":{"version":3,"mappings":";;;;AAiBA,SAAkBA,WAAW,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAEnE,SAASC,WAAW;AAKpB,SAASC,mBAAmB;AAK5B,IAAMC,YAAsB,GAAG;EAC7BC,QAAQ,EAAE,KAAK;EACfC,QAAQ,EAAE,KAAK;EACfC,SAAS,EAAE,KAAK;EAChBC,QAAQ,EAAE,KAAK;EACfC,KAAK,EAAEC,SAAS;EAChBC,MAAM,EAAED,SAAS;EACjBE,cAAc,EAAE;AAClB,CAAC;AAED,OAAO,SAASC,eAAe,CAE7BC,EAAK,EAAiB;EACtB,kBAA0Bb,UAAU,CAClC,UAACc,SAAS,EAAEC,QAAQ;MAAA,uCAAWD,SAAS,GAAKC;IAAAA,CAAW,EACxDZ,YAAY,CACb;IAAA;IAHMa,KAAK;IAAEC,QAAQ;EAItB,IAAMC,SAAS,GAAGF,KAAK,CAACX,QAAQ,IAAI,CAACW,KAAK,CAACT,QAAQ;EAEnD,IAAMY,IAAI,GAAGrB,WAAW,CAAC,YAAM;IAC7B,IAAIe,EAAE,EAAE;MACNI,QAAQ,CAACd,YAAY,CAAC;MACtBU,EAAE,CAACM,IAAI,EAAE;IACX;EACF,CAAC,EAAE,CAACN,EAAE,CAAC,CAAC;EAER,IAAMO,IAAI,GAAGtB,WAAW,CACrBuB,qBAA2B,EAAK;IAC/B,IAAIR,EAAE,EAAE;MACNA,EAAE,CAACO,IAAI,CAACC,WAAW,CAAC;IACtB;EACF,CAAC,EACD,CAACR,EAAE,CAAC,CACL;EAEDd,SAAS,CAAC,YAAM;IACdkB,QAAQ,CAACd,YAAY,CAAC;IACtB,IAAI,CAACU,EAAE,EAAE;MACP;IACF;IACA,IAAMS,WAAW,GAAIT,EAAE,CAAgBU,mBAAmB,CAAC,gBAAuB;MAAA,IAApBC,IAAI,GAAWC,KAAfD,IAAI;QAAEE,UAASD,KAATC;MAClE,QAAQF,IAAI;QACV,KAAKvB,WAAW,CAAC0B,MAAM;UACrBV,QAAQ,CAAC;YAAEb,QAAQ,EAAE;UAAK,CAAC,CAAC;UAC5B;QACF,KAAKH,WAAW,CAAC2B,MAAM;UACrBX,QAAQ,CAAC;YAAEZ,QAAQ,EAAE;UAAK,CAAC,CAAC;UAC5B;QACF,KAAKJ,WAAW,CAAC4B,MAAM;UACrBZ,QAAQ,CAAC;YAAEV,QAAQ,EAAE,IAAI;YAAEH,QAAQ,EAAE;UAAM,CAAC,CAAC;UAC7C;QACF,KAAKH,WAAW,CAAC6B,OAAO;UACtBb,QAAQ,CAAC;YAAEX,SAAS,EAAE;UAAK,CAAC,CAAC;UAC7B;QACF,KAAKL,WAAW,CAAC8B,KAAK;UACpBd,QAAQ,CAAC;YAAET,KAAK,EAAEkB;UAAiB,CAAC,CAAC;UACrC;QACF,KAAKxB,mBAAmB,CAACyB,MAAM;UAC7BV,QAAQ,CAAC;YAAEb,QAAQ,EAAE,IAAI;YAAEM,MAAM,EAAEgB;UAA4B,CAAC,CAAC;UACjE;QACF,KAAKxB,mBAAmB,CAAC8B,aAAa;UACpCf,QAAQ,CAAC;YAAEN,cAAc,EAAE,IAAI;YAAED,MAAM,EAAEgB;UAA4B,CAAC,CAAC;UACvE;MAAA;IAEN,CAAC,CAAC;IACF,OAAO,YAAM;MACXJ,WAAW,EAAE;IACf,CAAC;EACH,CAAC,EAAE,CAACT,EAAE,CAAC,CAAC;EAER,uCACKG,KAAK;IACRE,SAAS,EAATA,SAAS;IACTC,IAAI,EAAJA,IAAI;IACJC;EAAAA;AAEJ","names":["useCallback","useEffect","useReducer","AdEventType","RewardedAdEventType","initialState","isLoaded","isOpened","isClicked","isClosed","error","undefined","reward","isEarnedReward","useFullScreenAd","ad","prevState","newState","state","setState","isShowing","load","show","showOptions","unsubscribe","addAdEventsListener","type","_ref","payload","LOADED","OPENED","CLOSED","CLICKED","ERROR","EARNED_REWARD"],"sources":["useFullScreenAd.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module","externalDependencies":[]}