{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport * as Base64 from \"./Base64\";\nimport { isString, isUndefined } from \"./validate\";\nexport * from \"./id\";\nexport * from \"./path\";\nexport * from \"./promise\";\nexport * from \"./validate\";\nexport { Base64 };\nexport { ReferenceBase } from \"./ReferenceBase\";\nexport function getDataUrlParts(dataUrlString) {\n  var isBase64 = dataUrlString.includes(';base64');\n  var _dataUrlString$split = dataUrlString.split(','),\n    _dataUrlString$split2 = _slicedToArray(_dataUrlString$split, 2),\n    mediaType = _dataUrlString$split2[0],\n    base64String = _dataUrlString$split2[1];\n  if (!mediaType || !base64String) {\n    return {\n      base64String: undefined,\n      mediaType: undefined\n    };\n  }\n  mediaType = mediaType.replace('data:', '').replace(';base64', '');\n  if (base64String && base64String.includes('%')) {\n    base64String = decodeURIComponent(base64String);\n  }\n  if (!isBase64) {\n    base64String = Base64.btoa(base64String);\n  }\n  return {\n    base64String: base64String,\n    mediaType: mediaType\n  };\n}\nexport function once(fn, context) {\n  var onceResult;\n  var ranOnce = false;\n  return function onceInner() {\n    if (!ranOnce) {\n      ranOnce = true;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      onceResult = fn.apply(context || this, args);\n    }\n    return onceResult;\n  };\n}\nexport function isError(value) {\n  if (Object.prototype.toString.call(value) === '[object Error]') {\n    return true;\n  }\n  return value instanceof Error;\n}\nexport function hasOwnProperty(target, property) {\n  return Object.hasOwnProperty.call(target, property);\n}\nexport function isPropertySet(target, property) {\n  return hasOwnProperty(target, property) && !isUndefined(target[property]);\n}\nexport function stripTrailingSlash(string) {\n  if (!isString(string)) {\n    return string;\n  }\n  return string.endsWith('/') ? string.slice(0, -1) : string;\n}\nexport var isIOS = Platform.OS === 'ios';\nexport var isAndroid = Platform.OS === 'android';\nexport function tryJSONParse(string) {\n  try {\n    return string && JSON.parse(string);\n  } catch (jsonError) {\n    return string;\n  }\n}\nexport function tryJSONStringify(data) {\n  try {\n    return JSON.stringify(data);\n  } catch (jsonError) {\n    return null;\n  }\n}","map":{"version":3,"mappings":"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","names":["Base64","isString","isUndefined","ReferenceBase","getDataUrlParts","dataUrlString","isBase64","includes","split","mediaType","base64String","undefined","replace","decodeURIComponent","btoa","once","fn","context","onceResult","ranOnce","onceInner","args","apply","isError","value","Object","prototype","toString","call","Error","hasOwnProperty","target","property","isPropertySet","stripTrailingSlash","string","endsWith","slice","isIOS","Platform","OS","isAndroid","tryJSONParse","JSON","parse","jsonError","tryJSONStringify","data","stringify"],"sources":["index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module","externalDependencies":[]}