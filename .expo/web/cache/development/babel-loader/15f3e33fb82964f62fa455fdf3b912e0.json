{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { isPropertySet, isArray, isBoolean, isObject, isString, isUndefined, isValidUrl } from \"./common\";\nexport function validateAdRequestOptions(options) {\n  var out = {};\n  if (isUndefined(options)) {\n    return out;\n  }\n  if (!isObject(options)) {\n    throw new Error(\"'options' expected an object value\");\n  }\n  if (isPropertySet(options, 'requestNonPersonalizedAdsOnly')) {\n    if (!isBoolean(options.requestNonPersonalizedAdsOnly)) {\n      throw new Error(\"'options.requestNonPersonalizedAdsOnly' expected a boolean value\");\n    }\n    out.requestNonPersonalizedAdsOnly = options.requestNonPersonalizedAdsOnly;\n  }\n  if (options.networkExtras) {\n    if (!isObject(options.networkExtras)) {\n      throw new Error(\"'options.networkExtras' expected an object of key/value pairs\");\n    }\n    Object.entries(options.networkExtras).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        value = _ref2[1];\n      if (!isString(value)) {\n        throw new Error(\"'options.networkExtras' expected a string value for object key \\\"\" + key + \"\\\"\");\n      }\n    });\n    out.networkExtras = options.networkExtras;\n  }\n  if (options.keywords) {\n    if (!isArray(options.keywords)) {\n      throw new Error(\"'options.keywords' expected an array containing string values\");\n    }\n    for (var i = 0; i < options.keywords.length; i++) {\n      var keyword = options.keywords[i];\n      if (!isString(keyword)) {\n        throw new Error(\"'options.keywords' expected an array containing string values\");\n      }\n    }\n    out.keywords = options.keywords;\n  }\n  if (options.contentUrl) {\n    if (!isString(options.contentUrl)) {\n      throw new Error(\"'options.contentUrl' expected a string value\");\n    }\n    if (!isValidUrl(options.contentUrl)) {\n      throw new Error(\"'options.contentUrl' expected a valid HTTP or HTTPS url.\");\n    }\n    if (options.contentUrl.length > 512) {\n      throw new Error(\"'options.contentUrl' maximum length of a content URL is 512 characters.\");\n    }\n    out.contentUrl = options.contentUrl;\n  }\n  if (options.requestAgent) {\n    if (!isString(options.requestAgent)) {\n      throw new Error(\"'options.requestAgent' expected a string value\");\n    }\n    out.requestAgent = options.requestAgent;\n  }\n  if (options.serverSideVerificationOptions) {\n    if (!isObject(options.serverSideVerificationOptions)) {\n      throw new Error(\"'options.serverSideVerificationOptions' expected an object of key/value pairs\");\n    }\n    var ssvOptions = options.serverSideVerificationOptions;\n    if (ssvOptions.userId && !isString(ssvOptions.userId)) {\n      throw new Error(\"'options.serverSideVerificationOptions.userId' expected a string value\");\n    }\n    if (ssvOptions.customData && !isString(ssvOptions.customData)) {\n      throw new Error(\"'options.serverSideVerificationOptions.customData' expected a string value\");\n    }\n    out.serverSideVerificationOptions = options.serverSideVerificationOptions;\n  }\n  if (options.customTargeting) {\n    if (!isObject(options.customTargeting)) {\n      throw new Error(\"'options.customTargeting' expected an object of key/value pairs\");\n    }\n    out.customTargeting = options.customTargeting;\n  }\n  if (options.publisherProvidedId) {\n    if (!isString(options.publisherProvidedId)) {\n      throw new Error(\"'options.publisherProvidedId' expected a string value\");\n    }\n    out.publisherProvidedId = options.publisherProvidedId;\n  }\n  return out;\n}","map":{"version":3,"sources":["validateAdRequestOptions.ts"],"names":["isPropertySet","isArray","isBoolean","isObject","isString","isUndefined","isValidUrl","validateAdRequestOptions","options","out","Error","requestNonPersonalizedAdsOnly","networkExtras","Object","entries","forEach","key","value","keywords","i","length","keyword","contentUrl","requestAgent","serverSideVerificationOptions","ssvOptions","userId","customData","customTargeting","publisherProvidedId"],"mappings":"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","sourceRoot":"../../src","sourcesContent":["/*\n * Copyright (c) 2016-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nimport { isPropertySet, isArray, isBoolean, isObject, isString, isUndefined, isValidUrl } from './common';\nexport function validateAdRequestOptions(options) {\n  const out = {};\n  if (isUndefined(options)) {\n    return out;\n  }\n  if (!isObject(options)) {\n    throw new Error(\"'options' expected an object value\");\n  }\n  if (isPropertySet(options, 'requestNonPersonalizedAdsOnly')) {\n    if (!isBoolean(options.requestNonPersonalizedAdsOnly)) {\n      throw new Error(\"'options.requestNonPersonalizedAdsOnly' expected a boolean value\");\n    }\n    out.requestNonPersonalizedAdsOnly = options.requestNonPersonalizedAdsOnly;\n  }\n  if (options.networkExtras) {\n    if (!isObject(options.networkExtras)) {\n      throw new Error(\"'options.networkExtras' expected an object of key/value pairs\");\n    }\n    Object.entries(options.networkExtras).forEach(_ref => {\n      let [key, value] = _ref;\n      if (!isString(value)) {\n        throw new Error(`'options.networkExtras' expected a string value for object key \"${key}\"`);\n      }\n    });\n    out.networkExtras = options.networkExtras;\n  }\n  if (options.keywords) {\n    if (!isArray(options.keywords)) {\n      throw new Error(\"'options.keywords' expected an array containing string values\");\n    }\n    for (let i = 0; i < options.keywords.length; i++) {\n      const keyword = options.keywords[i];\n      if (!isString(keyword)) {\n        throw new Error(\"'options.keywords' expected an array containing string values\");\n      }\n    }\n    out.keywords = options.keywords;\n  }\n  if (options.contentUrl) {\n    if (!isString(options.contentUrl)) {\n      throw new Error(\"'options.contentUrl' expected a string value\");\n    }\n    if (!isValidUrl(options.contentUrl)) {\n      throw new Error(\"'options.contentUrl' expected a valid HTTP or HTTPS url.\");\n    }\n    if (options.contentUrl.length > 512) {\n      throw new Error(\"'options.contentUrl' maximum length of a content URL is 512 characters.\");\n    }\n    out.contentUrl = options.contentUrl;\n  }\n  if (options.requestAgent) {\n    if (!isString(options.requestAgent)) {\n      throw new Error(\"'options.requestAgent' expected a string value\");\n    }\n    out.requestAgent = options.requestAgent;\n  }\n  if (options.serverSideVerificationOptions) {\n    if (!isObject(options.serverSideVerificationOptions)) {\n      throw new Error(\"'options.serverSideVerificationOptions' expected an object of key/value pairs\");\n    }\n    const ssvOptions = options.serverSideVerificationOptions;\n    if (ssvOptions.userId && !isString(ssvOptions.userId)) {\n      throw new Error(\"'options.serverSideVerificationOptions.userId' expected a string value\");\n    }\n    if (ssvOptions.customData && !isString(ssvOptions.customData)) {\n      throw new Error(\"'options.serverSideVerificationOptions.customData' expected a string value\");\n    }\n    out.serverSideVerificationOptions = options.serverSideVerificationOptions;\n  }\n  if (options.customTargeting) {\n    if (!isObject(options.customTargeting)) {\n      throw new Error(\"'options.customTargeting' expected an object of key/value pairs\");\n    }\n    out.customTargeting = options.customTargeting;\n  }\n  if (options.publisherProvidedId) {\n    if (!isString(options.publisherProvidedId)) {\n      throw new Error(\"'options.publisherProvidedId' expected a string value\");\n    }\n    out.publisherProvidedId = options.publisherProvidedId;\n  }\n  return out;\n}\n//# sourceMappingURL=validateAdRequestOptions.js.map"]},"metadata":{},"sourceType":"module"}