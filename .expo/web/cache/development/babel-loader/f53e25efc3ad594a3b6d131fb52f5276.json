{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport React, { useState, useEffect } from \"react\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport { auth, db } from \"../../Firebase\";\nimport { onSnapshot, doc } from \"firebase/firestore\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Comments = function Comments(_ref) {\n  var post = _ref.post,\n    comment = _ref.comment;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    posts = _useState2[0],\n    setPosts = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    currentLoggedInUser = _useState6[0],\n    setCurrentLoggedInUser = _useState6[1];\n  var getUserDetails = function getUserDetails() {\n    var unsubscribe = onSnapshot(doc(db, \"users\", auth.currentUser.email), function (doc) {\n      setCurrentLoggedInUser({\n        fullname: doc.data().fullname,\n        profile_picture: doc.data().profile_picture\n      });\n    });\n    return unsubscribe;\n  };\n  useEffect(function () {\n    getUserDetails();\n  }, []);\n  return _jsx(View, {\n    children: _jsx(ScrollView, {\n      children: _jsx(View, {\n        style: {\n          width: \"80%\"\n        },\n        children: post.comments.map(function (comment, index) {\n          return _jsxs(View, {\n            style: styles.commentContainer,\n            children: [_jsx(TouchableOpacity, {\n              style: {\n                flexDirection: \"row\"\n              },\n              children: comment.image != null ? _jsx(Image, {\n                source: {\n                  uri: comment.image\n                },\n                style: styles.profile\n              }) : _jsx(Image, {\n                source: {\n                  uri: \"https://firebasestorage.googleapis.com/v0/b/journeytoaustralia-b21d4.appspot.com/o/icons%2FprofileIcon.png?alt=media&token=e822d7b0-f1a7-4d58-ae70-83e1b3952026\"\n                },\n                style: [styles.profile, {\n                  tintColor: \"grey\"\n                }]\n              })\n            }), _jsx(TouchableOpacity, {\n              children: _jsx(Text, {\n                style: {\n                  marginHorizontal: 10,\n                  fontWeight: \"bold\",\n                  color: \"#1267E9\"\n                },\n                children: comment.user\n              })\n            }), _jsx(View, {\n              style: {\n                marginRight: 10\n              },\n              children: _jsx(Text, {\n                style: {\n                  fontWeight: \"normal\",\n                  color: \"black\"\n                },\n                children: comment.comment\n              })\n            })]\n          }, index);\n        })\n      })\n    })\n  });\n};\nexport default Comments;\nvar styles = StyleSheet.create({\n  commentContainer: {\n    flexDirection: \"row\",\n    marginTop: 10,\n    marginRight: 10,\n    marginBottom: 10\n  },\n  profile: {\n    width: 30,\n    height: 30,\n    borderRadius: 40,\n    marginLeft: 10\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","TouchableOpacity","auth","db","onSnapshot","doc","Comments","post","comment","posts","setPosts","loading","setLoading","currentLoggedInUser","setCurrentLoggedInUser","getUserDetails","unsubscribe","currentUser","email","fullname","data","profile_picture","width","comments","map","index","styles","commentContainer","flexDirection","image","uri","profile","tintColor","marginHorizontal","fontWeight","color","user","marginRight","StyleSheet","create","marginTop","marginBottom","height","borderRadius","marginLeft"],"sources":["/Users/startek/LocalRepo/journeytoaustralia/components/post/Comments.js"],"sourcesContent":["import { View, ScrollView, Image, StyleSheet, Text } from \"react-native\";\nimport React, { useState, useEffect } from \"react\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport { auth, db } from \"../../Firebase\";\nimport { onSnapshot, doc } from \"firebase/firestore\";\n\nconst Comments = ({ post, comment }) => {\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [currentLoggedInUser, setCurrentLoggedInUser] = useState([]);\n\n  const getUserDetails = () => {\n    const unsubscribe = onSnapshot(\n      doc(db, \"users\", auth.currentUser.email),\n      (doc) => {\n        setCurrentLoggedInUser({\n          fullname: doc.data().fullname,\n          profile_picture: doc.data().profile_picture,\n        });\n      }\n    );\n    return unsubscribe;\n  };\n\n  useEffect(() => {\n    getUserDetails();\n  }, []);\n\n  return (\n    <View>\n      <ScrollView>\n        <View style={{ width: \"80%\" }}>\n          {post.comments.map((comment, index) => (\n            <View key={index} style={styles.commentContainer}>\n              <TouchableOpacity style={{ flexDirection: \"row\" }}>\n                {comment.image != null ? (\n                  <Image\n                    source={{ uri: comment.image }}\n                    style={styles.profile}\n                  />\n                ) : (\n                  <Image\n                    source={{\n                      uri: \"https://firebasestorage.googleapis.com/v0/b/journeytoaustralia-b21d4.appspot.com/o/icons%2FprofileIcon.png?alt=media&token=e822d7b0-f1a7-4d58-ae70-83e1b3952026\",\n                    }}\n                    style={[styles.profile, { tintColor: \"grey\" }]}\n                  />\n                )}\n              </TouchableOpacity>\n\n              <TouchableOpacity>\n                <Text\n                  style={{\n                    marginHorizontal: 10,\n                    fontWeight: \"bold\",\n                    color: \"#1267E9\",\n                  }}\n                >\n                  {comment.user}\n                </Text>\n              </TouchableOpacity>\n\n              <View style={{ marginRight: 10 }}>\n                {/* <ScrollView>\n                {posts.map((post, index) => (\n                  <Post post={post} key={index} navigation={navigation} />\n                ))}\n              </ScrollView> */}\n                <Text style={{ fontWeight: \"normal\", color: \"black\" }}>\n                  {comment.comment}\n                </Text>\n              </View>\n            </View>\n          ))}\n        </View>\n      </ScrollView>\n    </View>\n  );\n};\n\nexport default Comments;\n\nconst styles = StyleSheet.create({\n  commentContainer: {\n    flexDirection: \"row\",\n    marginTop: 10,\n    marginRight: 10,\n    marginBottom: 10,\n  },\n  profile: {\n    width: 30,\n    height: 30,\n    borderRadius: 40,\n    marginLeft: 10,\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}