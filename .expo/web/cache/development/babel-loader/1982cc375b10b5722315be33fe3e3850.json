{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { auth, db } from \"../../Firebase\";\nimport { onSnapshot, doc, updateDoc, arrayUnion } from \"firebase/firestore\";\nimport { Ionicons } from '@expo/vector-icons';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar user = auth.currentUser;\nvar _Dimensions$get = Dimensions.get(\"window\"),\n  width = _Dimensions$get.width;\nvar AddComment = function AddComment(_ref) {\n  var post = _ref.post;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentLoggedInUser = _useState2[0],\n    setCurrentLoggedInUser = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    comment = _useState4[0],\n    setComment = _useState4[1];\n  var getUserDetails = function getUserDetails() {\n    var unsubscribe = onSnapshot(doc(db, \"users\", auth.currentUser.email), function (doc) {\n      setCurrentLoggedInUser({\n        fullname: doc.data().fullname,\n        profile_picture: doc.data().profile_picture,\n        email: doc.data().email\n      });\n    });\n    return unsubscribe;\n  };\n  useEffect(function () {\n    getUserDetails();\n  }, []);\n  var handleComment = function handleComment() {\n    updateDoc(doc(db, \"posts\", post.id), {\n      comments: arrayUnion({\n        profile_picture: currentLoggedInUser.profile_picture,\n        fullname: currentLoggedInUser.fullname,\n        comment: comment,\n        email: currentLoggedInUser.email\n      })\n    });\n    setComment(null);\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(View, {\n      children: currentLoggedInUser.profile_picture != null ? _jsx(Image, {\n        style: styles.imageIcon,\n        source: {\n          uri: currentLoggedInUser.profile_picture\n        }\n      }) : _jsx(Image, {\n        style: [styles.imageIcon, {\n          tintColor: \"grey\"\n        }],\n        source: {\n          uri: \"https://firebasestorage.googleapis.com/v0/b/journeytoaustralia-b21d4.appspot.com/o/icons%2FprofileIcon.png?alt=media&token=e822d7b0-f1a7-4d58-ae70-83e1b3952026\"\n        }\n      })\n    }), _jsx(TextInput, {\n      placeholder: \"Add a comment\",\n      autoCapitalize: \"none\",\n      multiline: true,\n      value: comment,\n      onChangeText: function onChangeText(text) {\n        return setComment(text);\n      },\n      style: styles.textInput\n    }), !comment ? _jsx(Ionicons, {\n      name: \"send\",\n      size: 24,\n      color: \"darkgrey\"\n    }) : _jsx(TouchableOpacity, {\n      onPress: handleComment,\n      children: _jsx(Ionicons, {\n        name: \"send\",\n        size: 24,\n        color: \"#1267E9\"\n      })\n    })]\n  });\n};\nexport default AddComment;\nvar styles = StyleSheet.create({\n  container: {\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n    flexDirection: \"row\",\n    marginHorizontal: 30,\n    marginVertical: 5\n  },\n  commentContainer: {},\n  imageIcon: {\n    width: 28,\n    height: 28,\n    borderRadius: 14\n  },\n  textInput: {\n    padding: 10,\n    borderRadius: 10,\n    borderWidth: 1.5,\n    borderColor: \"lightgrey\",\n    marginVertical: 5,\n    marginHorizontal: 10,\n    width: \"80%\",\n    maxHeight: 120\n  },\n  sendButton: {\n    tintColor: \"#1267E9\",\n    width: 20,\n    height: 20\n  },\n  sendButtonDisabled: {\n    tintColor: \"grey\",\n    width: 20,\n    height: 20\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","useRef","auth","db","onSnapshot","doc","updateDoc","arrayUnion","Ionicons","user","currentUser","Dimensions","get","width","AddComment","post","currentLoggedInUser","setCurrentLoggedInUser","comment","setComment","getUserDetails","unsubscribe","email","fullname","data","profile_picture","handleComment","id","comments","styles","container","imageIcon","uri","tintColor","text","textInput","StyleSheet","create","alignItems","justifyContent","flexDirection","marginHorizontal","marginVertical","commentContainer","height","borderRadius","padding","borderWidth","borderColor","maxHeight","sendButton","sendButtonDisabled"],"sources":["C:/Users/awasthit/journeytoaustralia/components/post/AddComment.js"],"sourcesContent":["import {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  Image,\r\n  TextInput,\r\n  Dimensions, TouchableOpacity\r\n} from \"react-native\";\r\nimport React, { useEffect, useState, useRef } from \"react\";\r\nimport { auth, db } from \"../../Firebase\";\r\nimport { onSnapshot, doc, updateDoc, arrayUnion } from \"firebase/firestore\";\r\nimport { Ionicons } from '@expo/vector-icons';\r\n\r\nconst user = auth.currentUser;\r\n\r\nconst { width } = Dimensions.get(\"window\");\r\n\r\nconst AddComment = ({ post }) => {\r\n  const [currentLoggedInUser, setCurrentLoggedInUser] = useState([]);\r\n  const [comment, setComment] = useState(null);\r\n\r\n  const getUserDetails = () => {\r\n    const unsubscribe = onSnapshot(\r\n      doc(db, \"users\", auth.currentUser.email),\r\n      (doc) => {\r\n        setCurrentLoggedInUser({\r\n          fullname: doc.data().fullname,\r\n          profile_picture: doc.data().profile_picture,\r\n          email: doc.data().email,\r\n        });\r\n      }\r\n    );\r\n    return unsubscribe;\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUserDetails();\r\n  }, []);\r\n\r\n  const handleComment = () => {\r\n    updateDoc(doc(db, \"posts\", post.id), {\r\n      comments: arrayUnion({\r\n        profile_picture: currentLoggedInUser.profile_picture,\r\n        fullname: currentLoggedInUser.fullname,\r\n        comment: comment,\r\n        email: currentLoggedInUser.email,\r\n      }),\r\n    });\r\n    setComment(null);\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View>\r\n        {currentLoggedInUser.profile_picture != null ? (\r\n          <Image\r\n            style={styles.imageIcon}\r\n            source={{ uri: currentLoggedInUser.profile_picture }}\r\n          />\r\n        ) : (\r\n          <Image\r\n            style={[styles.imageIcon, { tintColor: \"grey\" }]}\r\n            source={{\r\n              uri: \"https://firebasestorage.googleapis.com/v0/b/journeytoaustralia-b21d4.appspot.com/o/icons%2FprofileIcon.png?alt=media&token=e822d7b0-f1a7-4d58-ae70-83e1b3952026\",\r\n            }}\r\n          />\r\n        )}\r\n      </View>\r\n      <TextInput\r\n        placeholder=\"Add a comment\"\r\n        autoCapitalize=\"none\"\r\n        multiline={true}\r\n        //autoFocus={true}\r\n        value={comment}\r\n        onChangeText={(text) => setComment(text)}\r\n        style={styles.textInput}\r\n      />\r\n      {!comment ? (\r\n        // <Image\r\n        //   source={require(\"../../assets/sendIcon_Empty.png\")}\r\n        //   style={styles.sendButtonDisabled}\r\n        // />\r\n        <Ionicons name=\"send\" size={24} color=\"darkgrey\" />\r\n      ) : (\r\n        // <Text style={styles.sendButtonDisabled}>Send</Text>\r\n        <TouchableOpacity onPress={handleComment}>\r\n          {/* <Image\r\n            source={require(\"../../assets/sendIcon.png\")}\r\n            style={styles.sendButton}\r\n          /> */}\r\n          <Ionicons name=\"send\" size={24} color=\"#1267E9\" />\r\n        </TouchableOpacity>\r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default AddComment;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-start\",\r\n    flexDirection: \"row\",\r\n    marginHorizontal: 30,\r\n    marginVertical: 5,\r\n  },\r\n  commentContainer: {},\r\n  imageIcon: {\r\n    width: 28,\r\n    height: 28,\r\n    borderRadius: 14,\r\n  },\r\n  textInput: {\r\n    // backgroundColor: \"#ececec\",\r\n    padding: 10,\r\n    borderRadius: 10,\r\n    borderWidth: 1.5,\r\n    borderColor: \"lightgrey\",\r\n    marginVertical: 5,\r\n    marginHorizontal: 10,\r\n    width: \"80%\",\r\n    maxHeight: 120,\r\n  },\r\n  sendButton: {\r\n    tintColor: \"#1267E9\",\r\n    // fontWeight: \"bold\",\r\n    width: 20,\r\n    height: 20,\r\n  },\r\n  sendButtonDisabled: {\r\n    tintColor: \"grey\",\r\n    // fontWeight: \"bold\",\r\n    width: 20,\r\n    height: 20,\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}