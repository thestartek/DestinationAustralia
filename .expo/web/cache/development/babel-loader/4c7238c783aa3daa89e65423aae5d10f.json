{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport qs from 'query-string';\nimport { MailComposerStatus } from \"./MailComposer.types\";\nfunction removeNullishValues(obj) {\n  for (var propName in obj) {\n    if (obj[propName] == null) {\n      delete obj[propName];\n    }\n  }\n  return obj;\n}\nfunction checkValue(value) {\n  if (!value) {\n    return null;\n  }\n  var arr = Array.isArray(value) ? value : [value];\n  return arr.join(',');\n}\nexport default {\n  get name() {\n    return 'ExpoMailComposer';\n  },\n  composeAsync: function () {\n    var _composeAsync = _asyncToGenerator(function* (options) {\n      var email = removeNullishValues({\n        cc: checkValue(options.ccRecipients),\n        bcc: checkValue(options.bccRecipients),\n        subject: options.subject,\n        body: options.body\n      });\n      var query = qs.stringify(email);\n      var queryComponent = query ? '?' + query : '';\n      var to = checkValue(options.recipients) || '';\n      var mailto = \"mailto:\" + to + queryComponent;\n      window.open(mailto);\n      return {\n        status: MailComposerStatus.UNDETERMINED\n      };\n    });\n    function composeAsync(_x) {\n      return _composeAsync.apply(this, arguments);\n    }\n    return composeAsync;\n  }(),\n  isAvailableAsync: function () {\n    var _isAvailableAsync = _asyncToGenerator(function* () {\n      return true;\n    });\n    function isAvailableAsync() {\n      return _isAvailableAsync.apply(this, arguments);\n    }\n    return isAvailableAsync;\n  }()\n};","map":{"version":3,"sources":["../src/ExpoMailComposer.web.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,cAAc;AAE7B,SAAkD,kBAAkB;AAEpE,SAAS,mBAAmB,CAAC,GAAG,EAAA;EAC9B,KAAK,IAAM,QAAQ,IAAI,GAAG,EAAE;IAC1B,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,IAAI,EAAE;MACzB,OAAO,GAAG,CAAC,QAAQ,CAAC;IACrB;EACF;EACD,OAAO,GAAG;AACZ;AAEA,SAAS,UAAU,CAAC,KAAyB,EAAA;EAC3C,IAAI,CAAC,KAAK,EAAE;IACV,OAAO,IAAI;EACZ;EAED,IAAM,GAAG,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK,CAAC;EAClD,OAAO,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC;AACtB;AAEA,eAAe;EACb,IAAI,IAAI,GAAA;IACN,OAAO,kBAAkB;EAC3B,CAAC;EACK,YAAY;IAAA,iDAAC,OAA4B,EAAA;MAC7C,IAAM,KAAK,GAAG,mBAAmB,CAAC;QAChC,EAAE,EAAE,UAAU,CAAC,OAAO,CAAC,YAAY,CAAC;QACpC,GAAG,EAAE,UAAU,CAAC,OAAO,CAAC,aAAa,CAAC;QACtC,OAAO,EAAE,OAAO,CAAC,OAAO;QACxB,IAAI,EAAE,OAAO,CAAC;OACf,CAAC;MAEF,IAAM,KAAK,GAAG,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC;MACjC,IAAM,cAAc,GAAG,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,EAAE;MAC/C,IAAM,EAAE,GAAG,UAAU,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,EAAE;MAC/C,IAAM,MAAM,eAAa,EAAE,GAAG,cAAgB;MAE9C,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;MAEnB,OAAO;QAAE,MAAM,EAAE,kBAAkB,CAAC;MAAY,CAAE;IACpD,CAAC;IAAA;MAAA;IAAA;IAAA;EAAA;EACK,gBAAgB;IAAA,uDAAA;MACpB,OAAO,IAAI;IACb,CAAC;IAAA;MAAA;IAAA;IAAA;EAAA;CACF","sourcesContent":["import qs from 'query-string';\n\nimport { MailComposerOptions, MailComposerResult, MailComposerStatus } from './MailComposer.types';\n\nfunction removeNullishValues(obj) {\n  for (const propName in obj) {\n    if (obj[propName] == null) {\n      delete obj[propName];\n    }\n  }\n  return obj;\n}\n\nfunction checkValue(value?: string[] | string): string | null {\n  if (!value) {\n    return null;\n  }\n\n  const arr = Array.isArray(value) ? value : [value];\n  return arr.join(',');\n}\n\nexport default {\n  get name(): string {\n    return 'ExpoMailComposer';\n  },\n  async composeAsync(options: MailComposerOptions): Promise<MailComposerResult> {\n    const email = removeNullishValues({\n      cc: checkValue(options.ccRecipients),\n      bcc: checkValue(options.bccRecipients),\n      subject: options.subject,\n      body: options.body,\n    });\n\n    const query = qs.stringify(email);\n    const queryComponent = query ? '?' + query : '';\n    const to = checkValue(options.recipients) || '';\n    const mailto = `mailto:${to}${queryComponent}`;\n\n    window.open(mailto);\n\n    return { status: MailComposerStatus.UNDETERMINED };\n  },\n  async isAvailableAsync(): Promise<boolean> {\n    return true;\n  },\n};\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}