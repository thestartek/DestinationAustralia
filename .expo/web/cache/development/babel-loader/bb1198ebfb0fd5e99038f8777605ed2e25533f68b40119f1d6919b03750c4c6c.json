{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport NativeModules from \"react-native-web/dist/exports/NativeModules\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { NativeError } from \"../NativeError\";\nimport { GoogleMobileAdsNativeEventEmitter } from \"../GoogleMobileAdsNativeEventEmitter\";\nimport { SharedEventEmitter } from \"../SharedEventEmitter\";\nimport { isFunction } from \"../../common\";\nvar NATIVE_MODULE_REGISTRY = {};\nvar NATIVE_MODULE_EVENT_SUBSCRIPTIONS = {};\nfunction nativeModuleKey(module) {\n  return (module._customUrlOrRegion || '') + \":\" + module.app.name + \":\" + module._config.namespace;\n}\nfunction nativeModuleMethodWrapped(namespace, method, argToPrepend) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    var possiblePromise = method.apply(void 0, [].concat(_toConsumableArray(argToPrepend), args));\n    if (possiblePromise && possiblePromise.then) {\n      var jsStack = new Error().stack || '';\n      return possiblePromise.catch(function (nativeError) {\n        return Promise.reject(new NativeError(nativeError, jsStack, namespace));\n      });\n    }\n    return possiblePromise;\n  };\n}\nfunction nativeModuleWrapped(namespace, NativeModule, argToPrepend) {\n  var native = {};\n  if (!NativeModule) {\n    return NativeModule;\n  }\n  var properties = Object.keys(NativeModule);\n  for (var i = 0, len = properties.length; i < len; i++) {\n    var property = properties[i];\n    if (isFunction(NativeModule[property])) {\n      native[property] = nativeModuleMethodWrapped(namespace, NativeModule[property], argToPrepend);\n    } else {\n      native[property] = NativeModule[property];\n    }\n  }\n  return native;\n}\nfunction initialiseNativeModule(module) {\n  var config = module._config;\n  var key = nativeModuleKey(module);\n  var namespace = config.namespace,\n    nativeEvents = config.nativeEvents,\n    nativeModuleName = config.nativeModuleName;\n  var multiModuleRoot = {};\n  var multiModule = Array.isArray(nativeModuleName);\n  var nativeModuleNames = multiModule ? nativeModuleName : [nativeModuleName];\n  for (var i = 0; i < nativeModuleNames.length; i++) {\n    var nativeModule = NativeModules[nativeModuleNames[i]];\n    if (!multiModule && !nativeModule) {\n      throw new Error(getMissingModuleHelpText(namespace));\n    }\n    if (multiModule) {\n      multiModuleRoot[nativeModuleNames[i]] = !!nativeModule;\n    }\n    Object.assign(multiModuleRoot, nativeModuleWrapped(namespace, nativeModule, []));\n  }\n  if (nativeEvents && nativeEvents.length) {\n    for (var _i = 0, len = nativeEvents.length; _i < len; _i++) {\n      subscribeToNativeModuleEvent(nativeEvents[_i]);\n    }\n  }\n  Object.freeze(multiModuleRoot);\n  NATIVE_MODULE_REGISTRY[key] = multiModuleRoot;\n  return NATIVE_MODULE_REGISTRY[key];\n}\nfunction subscribeToNativeModuleEvent(eventName) {\n  if (!NATIVE_MODULE_EVENT_SUBSCRIPTIONS[eventName]) {\n    GoogleMobileAdsNativeEventEmitter.addListener(eventName, function (event) {\n      if (event.appName) {\n        SharedEventEmitter.emit(event.appName + \"-\" + eventName, event);\n      } else {\n        SharedEventEmitter.emit(eventName, event);\n      }\n    });\n    NATIVE_MODULE_EVENT_SUBSCRIPTIONS[eventName] = true;\n  }\n}\nfunction getMissingModuleHelpText(namespace) {\n  var snippet = namespace + \"()\";\n  var nativeModule = namespace.charAt(0).toUpperCase() + namespace.slice(1);\n  if (Platform.OS === 'ios') {\n    return \"You attempted to use a module that's not installed natively on your iOS project by calling \" + snippet + \".\" + '\\r\\n\\r\\nEnsure you have either linked the module or added it to your projects Podfile.' + '\\r\\n\\r\\nSee http://invertase.link/ios for full setup instructions.';\n  }\n  var rnPackage = \"'io.invertase.\" + namespace + \".ReactNative\" + nativeModule + \"Package'\";\n  var newInstance = \"'new ReactNative\" + nativeModule + \"Package()'\";\n  return \"You attempted to use a module that's not installed on your Android project by calling \" + snippet + \".\" + (\"\\r\\n\\r\\nEnsure you have:\\r\\n\\r\\n1) imported the \" + rnPackage + \" module in your 'MainApplication.java' file.\\r\\n\\r\\n2) Added the \") + (newInstance + \" line inside of the RN 'getPackages()' method list.\") + '\\r\\n\\r\\nSee http://invertase.link/android for full setup instructions.';\n}\nexport function getNativeModule(module) {\n  var key = nativeModuleKey(module);\n  if (NATIVE_MODULE_REGISTRY[key]) {\n    return NATIVE_MODULE_REGISTRY[key];\n  }\n  return initialiseNativeModule(module);\n}","map":{"version":3,"mappings":"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","names":["NativeError","GoogleMobileAdsNativeEventEmitter","SharedEventEmitter","isFunction","NATIVE_MODULE_REGISTRY","NATIVE_MODULE_EVENT_SUBSCRIPTIONS","nativeModuleKey","module","_customUrlOrRegion","app","name","_config","namespace","nativeModuleMethodWrapped","method","argToPrepend","args","possiblePromise","then","jsStack","Error","stack","catch","nativeError","Promise","reject","nativeModuleWrapped","NativeModule","native","properties","Object","keys","i","len","length","property","initialiseNativeModule","config","key","nativeEvents","nativeModuleName","multiModuleRoot","multiModule","Array","isArray","nativeModuleNames","nativeModule","NativeModules","getMissingModuleHelpText","assign","subscribeToNativeModuleEvent","freeze","eventName","addListener","event","appName","emit","snippet","charAt","toUpperCase","slice","Platform","OS","rnPackage","newInstance","getNativeModule"],"sources":["nativeModule.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module","externalDependencies":[]}