{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport React, { useEffect, useState } from \"react\";\nimport { collection, onSnapshot, query } from \"firebase/firestore\";\nimport { db, auth } from \"../Firebase\";\nimport NewsPost from \"./NewsPost.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar NewsPostScreen = function NewsPostScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    newsposts = _useState2[0],\n    setNewsPosts = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  useEffect(function () {\n    var unsub = onSnapshot(query(collection(db, \"newsposts\")), function (snapshot) {\n      setNewsPosts(snapshot.docs.map(function (newspost) {\n        return _objectSpread({\n          id: newspost.id\n        }, newspost.data());\n      }));\n      if (loading) {\n        setLoading(false);\n      }\n    });\n    return unsub;\n  }, []);\n  return _jsx(ScrollView, {\n    children: newsposts.map(function (newspost, index) {\n      return _jsx(NewsPost, {\n        newspost: newspost,\n        navigation: navigation\n      }, index);\n    })\n  });\n};\nexport default NewsPostScreen;","map":{"version":3,"names":["React","useEffect","useState","collection","onSnapshot","query","db","auth","NewsPost","NewsPostScreen","navigation","newsposts","setNewsPosts","loading","setLoading","unsub","snapshot","docs","map","newspost","id","data","index"],"sources":["C:/Users/awasthit/journeytoaustralia/home/NewsPostScreen.js"],"sourcesContent":["import { View, ScrollView } from \"react-native\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { collection, onSnapshot, query } from \"firebase/firestore\";\r\nimport { db, auth } from \"../Firebase\";\r\nimport NewsPost from \"./NewsPost.js\";\r\n\r\nconst NewsPostScreen = ({navigation}) => {\r\n  const [newsposts, setNewsPosts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const unsub = onSnapshot(query(collection(db, \"newsposts\")), (snapshot) => {\r\n      setNewsPosts(\r\n        snapshot.docs.map((newspost) => ({\r\n          id: newspost.id,\r\n          ...newspost.data(),\r\n        }))\r\n      );\r\n      if (loading) {\r\n        setLoading(false);\r\n      }\r\n    });\r\n    return unsub;\r\n  }, []);\r\n\r\n  return (\r\n    <ScrollView>\r\n      {newsposts.map((newspost, index) => (\r\n        <NewsPost newspost={newspost} key={index} navigation={navigation} />\r\n      ))}\r\n    </ScrollView>\r\n  );\r\n};\r\n\r\nexport default NewsPostScreen;\r\n"],"mappings":";;;;;;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,UAAU,EAAEC,UAAU,EAAEC,KAAK,QAAQ,oBAAoB;AAClE,SAASC,EAAE,EAAEC,IAAI;AACjB,OAAOC,QAAQ;AAAsB;AAErC,IAAMC,cAAc,GAAG,SAAjBA,cAAc,OAAqB;EAAA,IAAhBC,UAAU,QAAVA,UAAU;EACjC,gBAAkCR,QAAQ,CAAC,EAAE,CAAC;IAAA;IAAvCS,SAAS;IAAEC,YAAY;EAC9B,iBAA8BV,QAAQ,CAAC,IAAI,CAAC;IAAA;IAArCW,OAAO;IAAEC,UAAU;EAE1Bb,SAAS,CAAC,YAAM;IACd,IAAMc,KAAK,GAAGX,UAAU,CAACC,KAAK,CAACF,UAAU,CAACG,EAAE,EAAE,WAAW,CAAC,CAAC,EAAE,UAACU,QAAQ,EAAK;MACzEJ,YAAY,CACVI,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAC,UAACC,QAAQ;QAAA;UACzBC,EAAE,EAAED,QAAQ,CAACC;QAAE,GACZD,QAAQ,CAACE,IAAI,EAAE;MAAA,CAClB,CAAC,CACJ;MACD,IAAIR,OAAO,EAAE;QACXC,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC,CAAC;IACF,OAAOC,KAAK;EACd,CAAC,EAAE,EAAE,CAAC;EAEN,OACE,KAAC,UAAU;IAAA,UACRJ,SAAS,CAACO,GAAG,CAAC,UAACC,QAAQ,EAAEG,KAAK;MAAA,OAC7B,KAAC,QAAQ;QAAC,QAAQ,EAAEH,QAAS;QAAa,UAAU,EAAET;MAAW,GAA9BY,KAAK,CAA4B;IAAA,CACrE;EAAC,EACS;AAEjB,CAAC;AAED,eAAeb,cAAc"},"metadata":{},"sourceType":"module"}