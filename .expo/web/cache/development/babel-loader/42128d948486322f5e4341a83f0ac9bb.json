{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport React, { useState, useEffect } from \"react\";\nimport AddNewPost from \"../components/newPost/AddNewPost\";\nimport { TouchableOpacity, TouchableWithoutFeedback } from \"react-native-gesture-handler\";\nimport { db, auth } from \"../Firebase\";\nimport { onSnapshot, doc } from \"firebase/firestore\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar NewPostScreen = function NewPostScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentLoggedInUser = _useState2[0],\n      setCurrentLoggedInUser = _useState2[1];\n\n  var user = auth.currentUser;\n\n  var getUserDetails = function getUserDetails() {\n    var unsubscribe = onSnapshot(doc(db, \"users\", user.email), function (doc) {\n      setCurrentLoggedInUser({\n        fullname: doc.data().fullname,\n        profile_picture: doc.data().profile_picture\n      });\n    });\n    return unsubscribe;\n  };\n\n  useEffect(function () {\n    getUserDetails();\n  }, []);\n  return _jsxs(View, {\n    children: [_jsx(TouchableWithoutFeedback, {\n      onPress: Keyboard.dismiss,\n      style: {\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        marginHorizontal: 5,\n        marginTop: 10,\n        alignItems: \"center\"\n      },\n      children: _jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\"\n        },\n        children: [_jsx(TouchableOpacity, {\n          children: !currentLoggedInUser.profile_picture ? _jsx(Image, {\n            source: require(\"../assets/profileIcon.png\"),\n            style: [styles.profileThumbnail, {\n              tintColor: 'grey'\n            }]\n          }) : _jsx(Image, {\n            source: {\n              uri: currentLoggedInUser.profile_picture\n            },\n            style: styles.profileThumbnail\n          })\n        }), _jsx(TouchableOpacity, {\n          children: _jsx(Text, {\n            style: {\n              marginLeft: 10,\n              marginBottom: 5,\n              fontWeight: \"bold\",\n              fontSize: 16,\n              color: \"#1267E9\"\n            },\n            children: currentLoggedInUser.fullname\n          })\n        })]\n      })\n    }), _jsx(AddNewPost, {\n      navigation: navigation\n    })]\n  });\n};\n\nexport default NewPostScreen;\nvar styles = StyleSheet.create({\n  headerContainer: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"flex-end\",\n    backgroundColor: \"white\",\n    height: 90\n  },\n  backText: {\n    fontSize: 18,\n    color: \"#1267E9\"\n  },\n  headerText: {\n    fontSize: 18,\n    marginBottom: 10,\n    fontWeight: \"500\"\n  },\n  profileImage: {\n    width: 40,\n    height: 40,\n    borderRadius: 40,\n    marginLeft: 10\n  },\n  profileThumbnail: {\n    width: 40,\n    height: 40,\n    borderRadius: 40,\n    marginLeft: 10\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","AddNewPost","TouchableOpacity","TouchableWithoutFeedback","db","auth","onSnapshot","doc","NewPostScreen","navigation","currentLoggedInUser","setCurrentLoggedInUser","user","currentUser","getUserDetails","unsubscribe","email","fullname","data","profile_picture","Keyboard","dismiss","flexDirection","justifyContent","marginHorizontal","marginTop","alignItems","require","styles","profileThumbnail","tintColor","uri","marginLeft","marginBottom","fontWeight","fontSize","color","StyleSheet","create","headerContainer","backgroundColor","height","backText","headerText","profileImage","width","borderRadius"],"sources":["/Users/startek/LocalRepo/journeytoaustralia/screens/NewPostScreen.js"],"sourcesContent":["import {\n  View,\n  Text,\n  StyleSheet,\n  Image,\n  Keyboard,\n  ScrollView,\n} from \"react-native\";\nimport React, { useState, useEffect } from \"react\";\nimport AddNewPost from \"../components/newPost/AddNewPost\";\nimport {\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n} from \"react-native-gesture-handler\";\n\nimport { db, auth } from \"../Firebase\";\nimport { onSnapshot, doc } from \"firebase/firestore\";\n\nconst NewPostScreen = ({ navigation }) => {\n  const [currentLoggedInUser, setCurrentLoggedInUser] = useState([]);\n  const user = auth.currentUser;\n\n  const getUserDetails = () => {\n    const unsubscribe = onSnapshot(doc(db, \"users\", user.email), (doc) => {\n      setCurrentLoggedInUser({\n        fullname: doc.data().fullname,\n        profile_picture: doc.data().profile_picture,\n      });\n    });\n    return unsubscribe;\n  };\n\n  useEffect(() => {\n    getUserDetails();\n  }, []);\n  return (\n    <View>\n      {/* <NewPostHeader navigation={navigation} /> */}\n      <TouchableWithoutFeedback\n        onPress={Keyboard.dismiss}\n        style={{\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          marginHorizontal: 5,\n          marginTop: 10,\n          alignItems: \"center\",\n        }}\n      >\n        <View style={{ flexDirection: \"row\", alignItems: \"center\" }}>\n          <TouchableOpacity>\n            {!currentLoggedInUser.profile_picture ? \n            <Image\n              source={require(\"../assets/profileIcon.png\")}\n              style={[styles.profileThumbnail, {tintColor: 'grey'}]}\n            /> : <Image\n            source={{uri: currentLoggedInUser.profile_picture}}\n            style={styles.profileThumbnail}\n          />}\n          </TouchableOpacity>\n\n          <TouchableOpacity>\n            <Text\n              style={{\n                marginLeft: 10,\n                marginBottom: 5,\n                fontWeight: \"bold\",\n                fontSize: 16,\n                color: \"#1267E9\",\n              }}\n            >\n              {currentLoggedInUser.fullname}\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </TouchableWithoutFeedback>\n\n      <AddNewPost navigation={navigation} />\n    </View>\n  );\n};\n\n// const NewPostHeader = ({ navigation }) => {\n//   return (\n//     <View style={styles.headerContainer}>\n//       <View style={{ marginBottom: 5 }}>\n//         <TouchableOpacity\n//           style={{ flexDirection: \"row\", alignItems: \"center\" }}\n//           onPress={() => {\n//             navigation.push(\"HomeScreen\");\n//           }}\n//         >\n//           <Ionicons name=\"chevron-back\" size={28} color=\"#1267E9\" />\n\n//           <Text style={styles.backText}>Home</Text>\n//         </TouchableOpacity>\n//       </View>\n\n//       <Text style={styles.headerText}>New post</Text>\n//       <Text> </Text>\n//     </View>\n//   );\n// };\n\nexport default NewPostScreen;\n\nconst styles = StyleSheet.create({\n  headerContainer: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"flex-end\",\n    backgroundColor: \"white\",\n    height: 90,\n  },\n  backText: {\n    fontSize: 18,\n    color: \"#1267E9\",\n  },\n  headerText: {\n    fontSize: 18,\n    marginBottom: 10,\n    fontWeight: \"500\",\n  },\n  profileImage: {\n    width: 40,\n    height: 40,\n    borderRadius: 40,\n    marginLeft: 10,\n  },\n  profileThumbnail: {\n    width: 40,\n    height: 40,\n    borderRadius: 40,\n    marginLeft: 10,\n    //tintColor: \"grey\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}