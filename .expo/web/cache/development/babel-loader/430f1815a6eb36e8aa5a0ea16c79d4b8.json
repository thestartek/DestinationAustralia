{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport { auth, db, storage } from \"../Firebase\";\nimport { doc, onSnapshot, setDoc } from \"firebase/firestore\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport { getDownloadURL, ref, uploadBytesResumable } from \"firebase/storage\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar thumbnailPic = \"https://firebasestorage.googleapis.com/v0/b/journeytoaustralia-b21d4.appspot.com/o/icons%2FprofileIcon.png?alt=media&token=e822d7b0-f1a7-4d58-ae70-83e1b3952026\";\nvar EditProfileScreen = function EditProfileScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentLoggedInUser = _useState2[0],\n    setCurrentLoggedInUser = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    fullname = _useState4[0],\n    setFullname = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    city = _useState6[0],\n    setCity = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    info = _useState8[0],\n    setInfo = _useState8[1];\n  var _useState9 = useState(null),\n    _useState10 = _slicedToArray(_useState9, 2),\n    image = _useState10[0],\n    setImage = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    isLoading = _useState12[0],\n    setIsLoading = _useState12[1];\n  var _useState13 = useState(0),\n    _useState14 = _slicedToArray(_useState13, 2),\n    percentage = _useState14[0],\n    setPercentage = _useState14[1];\n  var user = auth.currentUser;\n  var getUserDetails = function getUserDetails() {\n    var unsubscribe = onSnapshot(doc(db, \"users\", auth.currentUser.email), function (doc) {\n      setCurrentLoggedInUser({\n        fullname: doc.data().fullname,\n        profile_picture: doc.data().profile_picture,\n        city: doc.data().city,\n        info: doc.data().info\n      });\n    });\n    return unsubscribe;\n  };\n  var pickImage = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var result = yield ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.photo,\n        allowsEditing: true,\n        aspect: [4, 3],\n        quality: 0.75\n      });\n      console.log(result);\n      if (!result.cancelled) {\n        setImage(result.uri);\n      }\n    });\n    return function pickImage() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleChange = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      var imageUrl = yield uploadImage();\n      try {\n        var unsub = setDoc(doc(db, \"users\", user.email), {\n          fullname: fullname,\n          city: city,\n          info: info,\n          profile_picture: imageUrl\n        });\n        console.log(\"Profile updated\");\n        navigation.goBack();\n      } catch (error) {\n        console.log(error);\n      }\n    });\n    return function handleChange() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var uploadImage = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      if (image == null) {\n        return null;\n      }\n      try {\n        var filename = user.email + \"/\" + \"profileImages\" + \"/\" + image.substring(image.lastIndexOf(\"/\") + 1);\n        var extension = filename.split(\".\").pop();\n        var name = filename.split(\".\").slice(0, -1).join(\".\");\n        var imageFilename = name + Date.now() + \".\" + extension;\n        var imageRef = ref(storage, imageFilename);\n        var img = yield fetch(image);\n        var bytes = yield img.blob();\n        var uploadTask = uploadBytesResumable(imageRef, bytes);\n        uploadTask.on(\"state_changed\", function (snapshot) {\n          var progress = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n          setIsLoading(true);\n          setPercentage(progress);\n        });\n        yield uploadTask;\n        var url = yield getDownloadURL(imageRef);\n        return url;\n      } catch (error) {\n        console.log(error);\n        return null;\n      }\n    });\n    return function uploadImage() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  return _jsx(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return Keyboard.dismiss;\n    },\n    children: _jsx(KeyboardAvoidingView, {\n      behavior: Platform.OS === \"ios\" ? \"padding\" : \"height\",\n      style: styles.container,\n      children: _jsxs(ScrollView, {\n        children: [_jsx(View, {\n          style: {\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          },\n          children: image != null ? _jsx(Image, {\n            source: {\n              uri: image\n            },\n            style: [styles.logoContainer, styles.selectedPhoto]\n          }) : _jsx(View, {\n            style: styles.logoContainer,\n            children: thumbnailPic\n          })\n        }), _jsx(View, {\n          style: {\n            flexDirection: \"row\",\n            justifyContent: \"space-around\"\n          },\n          children: _jsxs(TouchableOpacity, {\n            style: styles.buttonPhoto,\n            onPress: pickImage,\n            children: [_jsx(Image, {\n              style: styles.icons,\n              source: {\n                uri: thumbnailPic\n              }\n            }), _jsx(Text, {\n              style: styles.textStyle,\n              children: \"Change photo\"\n            })]\n          })\n        }), _jsxs(View, {\n          children: [_jsx(TextInput, {\n            placeholder: \"Full name\",\n            value: fullname,\n            onChangeText: function onChangeText(text) {\n              return setFullname(text);\n            },\n            style: styles.textInput\n          }), _jsx(TextInput, {\n            placeholder: \"City\",\n            value: city,\n            onChangeText: function onChangeText(text) {\n              return setCity(text);\n            },\n            style: styles.textInput\n          }), _jsx(TextInput, {\n            placeholder: \"About me\",\n            multiline: true,\n            autoCapitalize: \"none\",\n            value: info,\n            onChangeText: function onChangeText(text) {\n              return setInfo(text);\n            },\n            style: [styles.textInput, {\n              height: 100\n            }]\n          })]\n        }), _jsx(View, {\n          style: styles.buttonContainer,\n          children: _jsx(TouchableOpacity, {\n            onPress: handleChange,\n            style: [styles.button, {\n              marginBottom: 200\n            }],\n            children: _jsx(Text, {\n              style: styles.buttonText,\n              children: \"Save\"\n            })\n          })\n        })]\n      })\n    })\n  });\n};\nexport default EditProfileScreen;\nvar styles = StyleSheet.create({\n  logoContainer: {\n    alignItems: \"center\",\n    marginTop: 20\n  },\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  textInput: {\n    backgroundColor: \"white\",\n    padding: 10,\n    borderRadius: 10,\n    borderWidth: 1.5,\n    borderColor: \"lightgrey\",\n    marginTop: 10,\n    width: 300\n  },\n  buttonContainer: {\n    width: 300,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 30\n  },\n  button: {\n    backgroundColor: \"#1267E9\",\n    width: \"100%\",\n    padding: 12,\n    borderRadius: 10,\n    alignItems: \"center\"\n  },\n  buttonUnselected: {\n    backgroundColor: \"darkgrey\"\n  },\n  buttonOutline: {\n    backgroundColor: \"white\",\n    marginTop: 5,\n    borderColor: \"#0782F9\",\n    borderWidth: 2\n  },\n  buttonText: {\n    color: \"white\",\n    fontWeight: \"700\",\n    fontSize: 16\n  },\n  buttonOutlineText: {\n    color: \"#1267E9\",\n    fontWeight: \"700\",\n    fontSize: 16\n  },\n  buttonPhoto: {\n    flexDirection: \"row\",\n    padding: 8,\n    borderRadius: 8,\n    backgroundColor: \"#1267E9\",\n    marginBottom: 10\n  },\n  buttonPhotoUnselected: {\n    backgroundColor: \"darkgrey\"\n  },\n  selectedPhoto: {\n    borderRadius: 50,\n    height: 100,\n    width: 100,\n    margin: 10\n  },\n  icons: {\n    width: 20,\n    height: 20,\n    tintColor: \"white\"\n  },\n  textStyle: {\n    color: \"white\",\n    fontSize: 16,\n    marginHorizontal: 8\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","auth","db","storage","doc","onSnapshot","setDoc","ImagePicker","getDownloadURL","ref","uploadBytesResumable","thumbnailPic","EditProfileScreen","navigation","currentLoggedInUser","setCurrentLoggedInUser","fullname","setFullname","city","setCity","info","setInfo","image","setImage","isLoading","setIsLoading","percentage","setPercentage","user","currentUser","getUserDetails","unsubscribe","email","data","profile_picture","pickImage","result","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","photo","allowsEditing","aspect","quality","console","log","cancelled","uri","handleChange","imageUrl","uploadImage","unsub","goBack","error","filename","substring","lastIndexOf","extension","split","pop","name","slice","join","imageFilename","Date","now","imageRef","img","fetch","bytes","blob","uploadTask","on","snapshot","progress","Math","round","bytesTransferred","totalBytes","url","Keyboard","dismiss","Platform","OS","styles","container","justifyContent","alignItems","logoContainer","selectedPhoto","flexDirection","buttonPhoto","icons","textStyle","text","textInput","height","buttonContainer","button","marginBottom","buttonText","StyleSheet","create","marginTop","flex","backgroundColor","padding","borderRadius","borderWidth","borderColor","width","buttonUnselected","buttonOutline","color","fontWeight","fontSize","buttonOutlineText","buttonPhotoUnselected","margin","tintColor","marginHorizontal"],"sources":["/Users/startek/LocalRepo/journeytoaustralia/screens/EditProfileScreen.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  ScrollView,\n  StyleSheet,\n  Text,\n  Image,\n  TextInput,\n  TouchableOpacity,\n  View,\n  KeyboardAvoidingView,\n  TouchableWithoutFeedback,\n  Keyboard,\n} from \"react-native\";\nimport { auth, db, storage } from \"../Firebase\";\nimport { doc, onSnapshot, setDoc } from \"firebase/firestore\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport { getDownloadURL, ref, uploadBytesResumable } from \"firebase/storage\";\n\nconst thumbnailPic =\n  \"https://firebasestorage.googleapis.com/v0/b/journeytoaustralia-b21d4.appspot.com/o/icons%2FprofileIcon.png?alt=media&token=e822d7b0-f1a7-4d58-ae70-83e1b3952026\";\n\nconst EditProfileScreen = ({ navigation }) => {\n  const [currentLoggedInUser, setCurrentLoggedInUser] = useState([]);\n  const [fullname, setFullname] = useState(null);\n  const [city, setCity] = useState(null);\n  const [info, setInfo] = useState(null);\n  const [image, setImage] = useState(null);\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [percentage, setPercentage] = useState(0);\n\n  const user = auth.currentUser;\n\n  const getUserDetails = () => {\n    const unsubscribe = onSnapshot(\n      doc(db, \"users\", auth.currentUser.email),\n      (doc) => {\n        setCurrentLoggedInUser({\n          fullname: doc.data().fullname,\n          profile_picture: doc.data().profile_picture,\n          city: doc.data().city,\n          info: doc.data().info,\n        });\n      }\n    );\n    return unsubscribe;\n  };\n\n  // useEffect(() => {\n  //   getUserDetails();\n  // }, []);\n\n  const pickImage = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.photo,\n      allowsEditing: true,\n      aspect: [4, 3],\n      quality: 0.75,\n    });\n\n    console.log(result);\n\n    if (!result.cancelled) {\n      setImage(result.uri);\n    }\n  };\n\n  const handleChange = async () => {\n    const imageUrl = await uploadImage();\n    try {\n      const unsub = setDoc(doc(db, \"users\", user.email), {\n        fullname: fullname,\n        city: city,\n        info: info,\n        profile_picture: imageUrl,\n      });\n      console.log(\"Profile updated\");\n      navigation.goBack();\n      //Alert.alert(\"User registered successfully\", user.email);\n    } catch (error) {\n      console.log(error);\n    }\n    //return unsub;\n  };\n\n  // useEffect(() => {\n  //   handleChange();\n  // }, [])\n\n  const uploadImage = async () => {\n    if (image == null) {\n      return null;\n    }\n    try {\n      let filename =\n        user.email +\n        \"/\" +\n        \"profileImages\" +\n        \"/\" +\n        image.substring(image.lastIndexOf(\"/\") + 1);\n      const extension = filename.split(\".\").pop();\n      const name = filename.split(\".\").slice(0, -1).join(\".\");\n      const imageFilename = name + Date.now() + \".\" + extension;\n\n      const imageRef = ref(storage, imageFilename);\n      const img = await fetch(image);\n      const bytes = await img.blob();\n      const uploadTask = uploadBytesResumable(imageRef, bytes);\n\n      uploadTask.on(\"state_changed\", (snapshot) => {\n        const progress = Math.round(\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n        );\n        //console.log(\"Upload is \" + progress + \"% done\");\n        setIsLoading(true);\n        setPercentage(progress);\n      });\n\n      await uploadTask;\n      const url = await getDownloadURL(imageRef);\n      return url;\n    } catch (error) {\n      console.log(error);\n      return null;\n    }\n  };\n\n  return (\n    <TouchableWithoutFeedback onPress={() => Keyboard.dismiss}>\n      <KeyboardAvoidingView\n        behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\n        style={styles.container}\n      >\n        <ScrollView>\n          <View style={{ justifyContent: \"center\", alignItems: \"center\" }}>\n            {image != null ? (\n              <Image\n                source={{ uri: image }}\n                style={[styles.logoContainer, styles.selectedPhoto]}\n              />\n            ) : (\n              <View style={styles.logoContainer}>{thumbnailPic}</View>\n            )}\n          </View>\n\n          <View\n            style={{ flexDirection: \"row\", justifyContent: \"space-around\" }}\n          >\n            <TouchableOpacity style={styles.buttonPhoto} onPress={pickImage}>\n              <Image\n                style={styles.icons}\n                source={{\n                  uri: thumbnailPic,\n                }}\n              />\n              <Text style={styles.textStyle}>Change photo</Text>\n            </TouchableOpacity>\n          </View>\n\n          <View>\n            <TextInput\n              placeholder=\"Full name\"\n              //defaultValue={currentLoggedInUser.fullname}\n              //autoFocus={true}\n              value={fullname}\n              //autoCapitalize=\"none\"\n              onChangeText={(text) => setFullname(text)}\n              style={styles.textInput}\n              //returnKeyType = {'next'}\n            />\n            <TextInput\n              placeholder=\"City\"\n              value={city}\n              onChangeText={(text) => setCity(text)}\n              style={styles.textInput}\n            />\n            <TextInput\n              placeholder=\"About me\"\n              multiline={true}\n              autoCapitalize=\"none\"\n              value={info}\n              onChangeText={(text) => setInfo(text)}\n              style={[styles.textInput, { height: 100 }]}\n              //onSubmitEditing={Keyboard.dismiss}\n            />\n          </View>\n\n          <View style={styles.buttonContainer}>\n            <TouchableOpacity\n              onPress={handleChange}\n              style={[styles.button, { marginBottom: 200 }]}\n            >\n              <Text style={styles.buttonText}>Save</Text>\n            </TouchableOpacity>\n          </View>\n        </ScrollView>\n      </KeyboardAvoidingView>\n    </TouchableWithoutFeedback>\n  );\n};\n\nexport default EditProfileScreen;\n\nconst styles = StyleSheet.create({\n  logoContainer: {\n    alignItems: \"center\",\n    marginTop: 20,\n  },\n\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  textInput: {\n    backgroundColor: \"white\",\n    padding: 10,\n    borderRadius: 10,\n    borderWidth: 1.5,\n    borderColor: \"lightgrey\",\n    marginTop: 10,\n    width: 300,\n  },\n  buttonContainer: {\n    width: 300,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 30,\n  },\n  button: {\n    backgroundColor: \"#1267E9\",\n    width: \"100%\",\n    padding: 12,\n    borderRadius: 10,\n    alignItems: \"center\",\n  },\n  buttonUnselected: {\n    backgroundColor: \"darkgrey\",\n  },\n  buttonOutline: {\n    backgroundColor: \"white\",\n    marginTop: 5,\n    borderColor: \"#0782F9\",\n    borderWidth: 2,\n  },\n  buttonText: {\n    color: \"white\",\n    fontWeight: \"700\",\n    fontSize: 16,\n  },\n  buttonOutlineText: {\n    color: \"#1267E9\",\n    fontWeight: \"700\",\n    fontSize: 16,\n  },\n  buttonPhoto: {\n    flexDirection: \"row\",\n    padding: 8,\n    borderRadius: 8,\n    backgroundColor: \"#1267E9\",\n    marginBottom: 10,\n  },\n  buttonPhotoUnselected: {\n    backgroundColor: \"darkgrey\",\n  },\n  selectedPhoto: {\n    borderRadius: 50,\n    height: 100,\n    width: 100,\n    margin: 10,\n  },\n  icons: {\n    width: 20,\n    height: 20,\n    //resizeMode: 'contain',\n    tintColor: \"white\",\n  },\n  textStyle: {\n    color: \"white\",\n    //fontWeight: \"bold\",\n    //textAlign: \"center\",\n    fontSize: 16,\n    marginHorizontal: 8,\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}