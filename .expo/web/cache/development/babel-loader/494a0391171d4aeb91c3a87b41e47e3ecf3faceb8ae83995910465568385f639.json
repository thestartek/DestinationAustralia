{"ast":null,"code":"var PUSH_CHARS = '-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz';\nvar AUTO_ID_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\nvar lastPushTime = 0;\nvar lastRandChars = [];\nexport function generateDatabaseId() {\n  var serverTimeOffset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var timeStampChars = new Array(8);\n  var now = new Date().getTime() + serverTimeOffset;\n  var duplicateTime = now === lastPushTime;\n  lastPushTime = now;\n  for (var i = 7; i >= 0; i -= 1) {\n    timeStampChars[i] = PUSH_CHARS.charAt(now % 64);\n    now = Math.floor(now / 64);\n  }\n  if (now !== 0) {\n    throw new Error('We should have converted the entire timestamp.');\n  }\n  var id = timeStampChars.join('');\n  if (!duplicateTime) {\n    for (var _i = 0; _i < 12; _i += 1) {\n      lastRandChars[_i] = Math.floor(Math.random() * 64);\n    }\n  } else {\n    var _i2;\n    for (_i2 = 11; _i2 >= 0 && lastRandChars[_i2] === 63; _i2 -= 1) {\n      lastRandChars[_i2] = 0;\n    }\n    lastRandChars[_i2] += 1;\n  }\n  for (var _i3 = 0; _i3 < 12; _i3++) {\n    id += PUSH_CHARS.charAt(lastRandChars[_i3]);\n  }\n  if (id.length !== 20) {\n    throw new Error('Length should be 20.');\n  }\n  return id;\n}\nexport function generateFirestoreId() {\n  var autoId = '';\n  for (var i = 0; i < 20; i++) {\n    autoId += AUTO_ID_CHARS.charAt(Math.floor(Math.random() * AUTO_ID_CHARS.length));\n  }\n  return autoId;\n}","map":{"version":3,"mappings":"AAAA,IAAMA,UAAU,GAAG,kEAAkE;AAErF,IAAMC,aAAa,GAAG,gEAAgE;AAGtF,IAAIC,YAAY,GAAG,CAAC;AAMpB,IAAMC,aAAuB,GAAG,EAAE;AAOlC,OAAO,SAASC,kBAAkB,GAAuB;EAAA,IAAtBC,gBAAgB,uEAAG,CAAC;EACrD,IAAMC,cAAc,GAAG,IAAIC,KAAK,CAAC,CAAC,CAAC;EACnC,IAAIC,GAAG,GAAG,IAAIC,IAAI,EAAE,CAACC,OAAO,EAAE,GAAGL,gBAAgB;EACjD,IAAMM,aAAa,GAAGH,GAAG,KAAKN,YAAY;EAE1CA,YAAY,GAAGM,GAAG;EAElB,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAE;IAC9BN,cAAc,CAACM,CAAC,CAAC,GAAGZ,UAAU,CAACa,MAAM,CAACL,GAAG,GAAG,EAAE,CAAC;IAC/CA,GAAG,GAAGM,IAAI,CAACC,KAAK,CAACP,GAAG,GAAG,EAAE,CAAC;EAC5B;EAEA,IAAIA,GAAG,KAAK,CAAC,EAAE;IACb,MAAM,IAAIQ,KAAK,CAAC,gDAAgD,CAAC;EACnE;EAEA,IAAIC,EAAE,GAAGX,cAAc,CAACY,IAAI,CAAC,EAAE,CAAC;EAEhC,IAAI,CAACP,aAAa,EAAE;IAClB,KAAK,IAAIC,EAAC,GAAG,CAAC,EAAEA,EAAC,GAAG,EAAE,EAAEA,EAAC,IAAI,CAAC,EAAE;MAC9BT,aAAa,CAACS,EAAC,CAAC,GAAGE,IAAI,CAACC,KAAK,CAACD,IAAI,CAACK,MAAM,EAAE,GAAG,EAAE,CAAC;IACnD;EACF,CAAC,MAAM;IAGL,IAAIP,GAAC;IACL,KAAKA,GAAC,GAAG,EAAE,EAAEA,GAAC,IAAI,CAAC,IAAIT,aAAa,CAACS,GAAC,CAAC,KAAK,EAAE,EAAEA,GAAC,IAAI,CAAC,EAAE;MACtDT,aAAa,CAACS,GAAC,CAAC,GAAG,CAAC;IACtB;IAEAT,aAAa,CAACS,GAAC,CAAC,IAAI,CAAC;EACvB;EAEA,KAAK,IAAIA,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAG,EAAE,EAAEA,GAAC,EAAE,EAAE;IAC3BK,EAAE,IAAIjB,UAAU,CAACa,MAAM,CAACV,aAAa,CAACS,GAAC,CAAC,CAAC;EAC3C;EAEA,IAAIK,EAAE,CAACG,MAAM,KAAK,EAAE,EAAE;IACpB,MAAM,IAAIJ,KAAK,CAAC,sBAAsB,CAAC;EACzC;EAEA,OAAOC,EAAE;AACX;AAMA,OAAO,SAASI,mBAAmB,GAAG;EACpC,IAAIC,MAAM,GAAG,EAAE;EAEf,KAAK,IAAIV,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,EAAE,EAAEA,CAAC,EAAE,EAAE;IAC3BU,MAAM,IAAIrB,aAAa,CAACY,MAAM,CAACC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACK,MAAM,EAAE,GAAGlB,aAAa,CAACmB,MAAM,CAAC,CAAC;EAClF;EACA,OAAOE,MAAM;AACf","names":["PUSH_CHARS","AUTO_ID_CHARS","lastPushTime","lastRandChars","generateDatabaseId","serverTimeOffset","timeStampChars","Array","now","Date","getTime","duplicateTime","i","charAt","Math","floor","Error","id","join","random","length","generateFirestoreId","autoId"],"sources":["id.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module","externalDependencies":[]}