{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport React, { useState, useEffect } from \"react\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport { auth, db } from \"../../Firebase\";\nimport { onSnapshot, doc } from \"firebase/firestore\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Comments = function Comments(_ref) {\n  var post = _ref.post,\n      comment = _ref.comment;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      posts = _useState2[0],\n      setPosts = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      currentLoggedInUser = _useState6[0],\n      setCurrentLoggedInUser = _useState6[1];\n\n  var getUserDetails = function getUserDetails() {\n    var unsubscribe = onSnapshot(doc(db, \"users\", auth.currentUser.email), function (doc) {\n      setCurrentLoggedInUser({\n        fullname: doc.data().fullname,\n        profile_picture: doc.data().profile_picture\n      });\n    });\n    return unsubscribe;\n  };\n\n  useEffect(function () {\n    getUserDetails();\n  }, []);\n  return _jsx(View, {\n    children: _jsx(ScrollView, {\n      children: _jsx(View, {\n        style: {\n          width: '80%'\n        },\n        children: post.comments.map(function (comment, index) {\n          return _jsxs(View, {\n            style: styles.commentContainer,\n            children: [_jsx(TouchableOpacity, {\n              style: {\n                flexDirection: \"row\"\n              },\n              children: comment.image != null ? _jsx(Image, {\n                source: {\n                  uri: comment.image\n                },\n                style: styles.profile\n              }) : _jsx(Image, {\n                source: require(\"../../assets/profileIcon.png\"),\n                style: [styles.profile, {\n                  tintColor: \"grey\"\n                }]\n              })\n            }), _jsx(TouchableOpacity, {\n              children: _jsx(Text, {\n                style: {\n                  marginHorizontal: 10,\n                  fontWeight: \"bold\",\n                  color: \"#1267E9\"\n                },\n                children: comment.user\n              })\n            }), _jsx(View, {\n              style: {\n                marginRight: 10\n              },\n              children: _jsx(Text, {\n                style: {\n                  fontWeight: \"normal\",\n                  color: \"black\"\n                },\n                children: comment.comment\n              })\n            })]\n          }, index);\n        })\n      })\n    })\n  });\n};\n\nexport default Comments;\nvar styles = StyleSheet.create({\n  commentContainer: {\n    flexDirection: \"row\",\n    marginTop: 10,\n    marginRight: 10,\n    marginBottom: 10\n  },\n  profile: {\n    width: 30,\n    height: 30,\n    borderRadius: 40,\n    marginLeft: 10\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","TouchableOpacity","auth","db","onSnapshot","doc","Comments","post","comment","posts","setPosts","loading","setLoading","currentLoggedInUser","setCurrentLoggedInUser","getUserDetails","unsubscribe","currentUser","email","fullname","data","profile_picture","width","comments","map","index","styles","commentContainer","flexDirection","image","uri","profile","require","tintColor","marginHorizontal","fontWeight","color","user","marginRight","StyleSheet","create","marginTop","marginBottom","height","borderRadius","marginLeft"],"sources":["/Users/startek/LocalRepo/journeytoaustralia/components/home/Comments.js"],"sourcesContent":["import { View, ScrollView, Image, StyleSheet, Text } from \"react-native\";\nimport React, { useState, useEffect } from \"react\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport { auth, db } from \"../../Firebase\";\nimport { onSnapshot, doc } from \"firebase/firestore\";\n\nconst Comments = ({ post, comment }) => {\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [currentLoggedInUser, setCurrentLoggedInUser] = useState([]);\n\n  const getUserDetails = () => {\n    const unsubscribe = onSnapshot(\n      doc(db, \"users\", auth.currentUser.email),\n      (doc) => {\n        setCurrentLoggedInUser({\n          fullname: doc.data().fullname,\n          profile_picture: doc.data().profile_picture,\n        });\n      }\n    );\n    return unsubscribe;\n  };\n\n  useEffect(() => {\n    getUserDetails();\n  }, []);\n\n  return (\n    <View >\n      <ScrollView>\n        <View style={{ width: '80%'}}>\n          {post.comments.map((comment, index) => (\n            <View key={index} style={styles.commentContainer}>\n              <TouchableOpacity style={{ flexDirection: \"row\" }}>\n                {comment.image != null ? (\n                  <Image\n                    source={{ uri: comment.image }}\n                    style={styles.profile}\n                  />\n                ) : (\n                  <Image\n                    source={require(\"../../assets/profileIcon.png\")}\n                    style={[styles.profile, { tintColor: \"grey\" }]}\n                  />\n                )}\n              </TouchableOpacity>\n\n              <TouchableOpacity>\n                <Text\n                  style={{\n                    marginHorizontal: 10,\n                    fontWeight: \"bold\",\n                    color: \"#1267E9\",\n                  }}\n                >\n                  {comment.user}\n                </Text>\n              </TouchableOpacity>\n\n              <View style={{ marginRight: 10 }}>\n                {/* <ScrollView>\n                {posts.map((post, index) => (\n                  <Post post={post} key={index} navigation={navigation} />\n                ))}\n              </ScrollView> */}\n                <Text style={{ fontWeight: \"normal\", color: \"black\" }}>\n                  {comment.comment}\n                </Text>\n              </View>\n            </View>\n          ))}\n        </View>\n      </ScrollView>\n    </View>\n  );\n};\n\nexport default Comments;\n\nconst styles = StyleSheet.create({\n  commentContainer: {\n    flexDirection: \"row\",\n    marginTop: 10,\n    marginRight: 10,\n    marginBottom: 10,\n  },\n  profile: {\n    width: 30,\n    height: 30,\n    borderRadius: 40,\n    marginLeft: 10,\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}